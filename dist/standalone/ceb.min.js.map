{"version":3,"sources":["ceb.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ceb","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"factory","mod","utils","PropertyBuilder","AttributeBuilder","_utilsJs","_PropertyBuilderJs","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getAttValue","el","attrName","isBoolean","hasAttribute","getAttribute","setAttValue","setAttribute","removeAttribute","isUndefined","isNull","getterFactory","setterFactory","attSetter","attValue","isFunction","defineProperty","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_PropertyBuilder","camelCase","assign","data","listeners","descriptorValue","propName","listener","push","proto","on","_this","defaultValue","result","set","invoke","attrValue","oldValue","setValue","forEach","attName","oldVal","newVal","newValue","../utils.js","./PropertyBuilder.js",2,"Builder",3,"CustomElementBuilder","applyLifecycle","context","name","original","beforeFns","events","afterFns","readyFns","args","concat","toArray","arguments","fn","apply","LIFECYCLE_CALLBACKS","LIFECYCLE_EVENTS","flatten","map","HTMLElement","builders","reduce","b","before:builders","after:builders","ready:builders","before:registerElement","after:registerElement","ready:registerElement","_this2","_len","Array","_key","builder","event","_this3","cb","_this4","bind","partial","options","isString","CustomElement","document","registerElement",4,"DelegateBuilder","_AttributeBuilderJs","_BuilderJs","_Builder","fieldBuilder","methName","selector","fieldBuilderData","targetedPropName","targetedMethName","targetedAttrName","fieldGetter","fieldSetter","setter","querySelector","targetValue","shift","build","./AttributeBuilder.js","./Builder.js",5,"MethodBuilder","wrappers","lastIndex","next","current",6,"OnBuilder","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","isArray","noop","capture","preventDefault","stopPropagation","prevent","stop","split","trim","_cebOnHandlers","evt","find","querySelectorAll","contains","_ref","_ref2","filter","_ref3","_ref32","_ref4","_ref42","addEventListener","_ref5","_ref52","_ref6","_ref62","removeEventListener",7,"DEFAULT_DATA","immutable","_value",8,"TemplateBuilder","hasContent","html","search","CONTENT_ATTR_REG_EX","CONTENT_NODE_REG_EX","replaceContent","newCebContentId","replace","findContentNode","oldCebContentId","OLD_CONTENT_ID_ATTR_NAME","cleanOldContentNode","oldContentNode","lightDom","lightFrag","createDocumentFragment","childNodes","appendChild","removeChild","fillNewContentNode","applyTemplate","tpl","handleContentNode","counter","innerHTML",9,"_builderCustomElementBuilderJs","_builderPropertyBuilderJs","_builderAttributeBuilderJs","_builderDelegateBuilderJs","_builderMethodBuilderJs","_builderTemplateBuilderJs","_builderOnBuilderJs","_builderBuilderJs","attribute","method","delegate","template","./builder/AttributeBuilder.js","./builder/Builder.js","./builder/CustomElementBuilder.js","./builder/DelegateBuilder.js","./builder/MethodBuilder.js","./builder/OnBuilder.js","./builder/PropertyBuilder.js","./builder/TemplateBuilder.js",10,"toLowerCase","part","index","charAt","toUpperCase","slice","join","toString","obj","prop","source","keys","array","objects","meth","ctx","wrap","wrapper","trigger","params","createEvent","initCustomEvent","bubbles","cancellable","detail","dispatchEvent"],"mappings":"CAAA,SAAUA,GAAG,GAAoB,gBAAVC,UAAoC,mBAATC,QAAsBA,OAAOD,QAAQD,QAAS,IAAmB,kBAATG,SAAqBA,OAAOC,IAAKD,UAAUH,OAAO,CAAC,GAAIK,EAAkCA,GAAb,mBAATC,QAAwBA,OAA+B,mBAATC,QAAwBA,OAA6B,mBAAPC,MAAsBA,KAAYC,KAAKJ,EAAEK,IAAMV,MAAO,WAAW,GAAIG,EAAsB,OAAO,SAAUQ,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIhB,GAAE,GAAIqB,OAAM,uBAAuBL,EAAE,IAAK,MAAMhB,GAAEsB,KAAK,mBAAmBtB,EAAE,GAAIuB,GAAEV,EAAEG,IAAIf,WAAYW,GAAEI,GAAG,GAAGQ,KAAKD,EAAEtB,QAAQ,SAASU,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIY,EAAEA,EAAEtB,QAAQU,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGf,QAAkD,IAAI,GAA1CmB,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKW,GAAG,SAASP,EAAQjB,EAAOD,IACl0B,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,cAAe,wBAAyBwB,OACxD,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,eAAgBA,EAAQ,6BAC9C,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,MAAOtB,EAAOuB,iBAC1CvB,EAAOwB,iBAAmBH,EAAI3B,UAEnCQ,KAAM,SAAUR,EAAS+B,EAAUC,GAClC,YAaA,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAUje,QAASW,GAAYC,EAAIC,EAAUC,GAC/B,MAAIA,GACOF,EAAGG,aAAaF,GAEpBD,EAAGI,aAAaH,GAW3B,QAASI,GAAYL,EAAIC,EAAUC,EAAWT,GACtCS,EAEIT,IAAUO,EAAGG,aAAaF,GAC1BD,EAAGM,aAAaL,EAAU,KAClBR,GAASO,EAAGG,aAAaF,IACjCD,EAAGO,gBAAgBN,KAIjB,EAAGrB,EAAS4B,aAAaf,KAAW,EAAGb,EAAS6B,QAAQhB,KAAWO,EAAGG,aAAaF,GAErFD,EAAGO,gBAAgBN,IACV,EAAGrB,EAAS4B,aAAaf,KAAY,EAAGb,EAAS6B,QAAQhB,IAAUO,EAAGI,aAAaH,KAAcR,GAE1GO,EAAGM,aAAaL,EAAUR,GAKtC,QAASiB,GAAcT,EAAUC,GAC7B,MAAO,YACH,MAAOH,GAAY1C,KAAM4C,EAAUC,IAI3C,QAASS,GAAcV,EAAUC,EAAWU,GACxC,MAAO,UAAUnB,GACb,GAAIoB,IAAY,EAAGjC,EAASkC,YAAYF,GAAaA,EAAUxC,KAAKf,KAAMA,KAAMoC,GAASA,CACzF,OAAOY,GAAYhD,KAAM4C,EAAUC,EAAWW,IAnEtDvB,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,GAE1d/E,GAAQkD,YAAcA,EACtBlD,EAAQwD,YAAcA,CAoEtB,IAAI1B,GAAmB,SAAW6D,GAO9B,QAAS7D,GAAiBsB,GACtBnB,EAAgBzB,KAAMsB,GAEtB6C,EAAKlC,OAAOiD,eAAe5D,EAAiBU,WAAY,cAAehC,MAAMe,KAAKf,MAAO,EAAGuB,EAAS6D,WAAWxC,KAI/G,EAAGrB,EAAS8D,QAAQrF,KAAKsF,MACtB1C,SAAUA,EACV2C,aACAlC,cAAeA,EACfC,cAAeA,EACfkC,iBAAiB,EACjB9C,YAAaA,EACbM,YAAaA,IAyGrB,MA7HAnB,GAAUP,EAAkB6D,GA8B5BxB,EAAarC,IACT0C,IAAK,UACL5B,MAAO,WAEH,MADApC,MAAKsF,KAALtF,YAAoB,EACbA,QASXgE,IAAK,WACL5B,MAAO,SAAkBqD,GAErB,MADAzF,MAAKsF,KAAKG,SAAWA,EACdzF,QASXgE,IAAK,SACL5B,MAAO,SAAgBsD,GAEnB,MADA1F,MAAKsF,KAAKC,UAAUI,KAAKD,GAClB1F,QAOXgE,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIC,GAAQ9F,KAER+F,GAAgB,EAAGxE,EAASyE,QAAQhG,KAAKsF,KAAM,SAC/CvB,GACA1B,WAAYrC,KAAKsF,KAAKjD,WACtBE,cAAc,EACd0C,IAAKjF,KAAKsF,KAAKjC,cAAcrD,KAAKsF,KAAK1C,SAAU5C,KAAKsF,KAALtF,YACjDiG,IAAKjG,KAAKsF,KAAKhC,cAActD,KAAKsF,KAAK1C,SAAU5C,KAAKsF,KAALtF,YAGrDiC,QAAOyB,eAAekC,EAAO5F,KAAKsF,KAAKG,SAAU1B,GAEjD8B,EAAG,yBAAyBK,OAAO,SAAUvD,GACzC,GAAIwD,GAAYzD,EAAYC,EAAImD,EAAMR,KAAK1C,SAAUkD,EAAMR,KAANQ,WACjDA,GAAMR,KAANQ,WACAnD,EAAGmD,EAAMR,KAAKG,UAAcM,EAAeA,EAAeI,GACjD,EAAG5E,EAAS6B,QAAQ+C,KAAgB,EAAG5E,EAAS4B,aAAagD,IAE7D,EAAG5E,EAAS4B,aAAa4C,KAClCpD,EAAGmD,EAAMR,KAAKG,UAAYM,GAF1BpD,EAAGmD,EAAMR,KAAKG,UAAYU,EAK1BL,EAAMR,KAAKC,UAAUvE,OAAS,IAC9B,WACI,GAAIoF,GAAWN,EAAMR,KAANQ,YAAqB,EAAQ,KACxCO,EAAW1D,EAAGmD,EAAMR,KAAKG,SACzBW,KAAaC,GACbP,EAAMR,KAAKC,UAAUe,QAAQ,SAAUZ,GACnC,MAAOA,GAAS3E,KAAK4B,EAAIA,EAAIyD,EAAUC,UAO3DR,EAAG,mCAAmCK,OAAO,SAAUvD,EAAI4D,EAASC,EAAQC,GAExE,GAAIF,IAAYT,EAAMR,KAAK1C,SAAU,CACjC,GAAI8D,GAAWZ,EAAMR,KAANQ,WAAgC,KAAXW,EAAgBA,CAChD9D,GAAGmD,EAAMR,KAAKG,YAAciB,IAC5B/D,EAAGmD,EAAMR,KAAKG,UAAYiB,GAE1BZ,EAAMR,KAAKC,UAAUvE,OAAS,IAC9B,WACI,GAAIoF,GAAWN,EAAMR,KAANQ,WAAgC,KAAXU,EAAgBA,EAChDH,EAAWP,EAAMR,KAANQ,WAAgC,KAAXW,EAAgBA,CAChDL,KAAaC,GACbP,EAAMR,KAAKC,UAAUe,QAAQ,SAAUZ,GACnC,MAAOA,GAAS3E,KAAK4B,EAAIA,EAAIyD,EAAUC,eAUhE/E,GACRE,EAAmBH,gBAEtB7B,GAAQ8B,iBAAmBA,MAG5BqF,cAAc,GAAGC,uBAAuB,IAAIC,GAAG,SAASnG,EAAQjB,EAAOD,IAC1E,SAAWM,EAAQoB,GACjB,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACzCD,GAAQ,WAAYwB,OACf,IAAuB,mBAAZ1B,GAChB0B,EAAQ1B,OACH,CACL,GAAI2B,IACF3B,WAEF0B,GAAQC,EAAI3B,SACZM,EAAOgH,QAAU3F,EAAI3B,UAEtBQ,KAAM,SAAUR,GAKjB,YAQA,SAASiC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHK,OAAOyB,eAAelE,EAAS,cAC7B4C,OAAO,GAGT,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAI7hBmF,EAAU,WACZ,QAASA,KACPrF,EAAgBzB,KAAM8G,GAgBxB,MAbAnD,GAAamD,IACX9C,IAAK,QAOL5B,MAAO,WACL,KAAM,IAAIxB,OAAM,uBAIbkG,IAGTtH,GAAQsH,QAAUA,SAGdC,GAAG,SAASrG,EAAQjB,EAAOD,IACjC,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,eAAgBwB,OAChC,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,oBACtB,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,OAC5BtB,EAAOkH,qBAAuB7F,EAAI3B,UAEvCQ,KAAM,SAAUR,EAAS+B,GACxB,YAQA,SAASE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAQhH,QAASqF,GAAeC,EAASC,GAC7B,GAAIvB,GAAQsB,EAAQtB,MAChBwB,EAAWxB,EAAMuB,GACjBE,EAAYH,EAAQI,OAAO,UAAYH,GACvCI,EAAWL,EAAQI,OAAO,SAAWH,GACrCK,EAAWN,EAAQI,OAAO,SAAWH,EAEzCvB,GAAMuB,GAAQ,WACV,GAAIrB,GAAQ9F,KAERyH,GAAQzH,MAAM0H,QAAQ,EAAGnG,EAASoG,SAASC,WAE/CP,GAAUf,QAAQ,SAAUuB,GACxB,MAAOA,GAAGC,MAAMhC,EAAO2B,MAGtB,EAAGlG,EAASkC,YAAY2D,IACzBA,EAASU,MAAM9H,KAAMyH,GAGzBF,EAASjB,QAAQ,SAAUuB,GACvB,MAAOA,GAAGC,MAAMhC,EAAO2B,KAG3BD,EAASlB,QAAQ,SAAUuB,GACvB,MAAOA,GAAGC,MAAMhC,EAAO2B,MAvCnCxF,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAI7hBoG,GAAuB,kBAAmB,mBAAoB,mBAAoB,4BAElFC,GAAoB,EAAGzG,EAAS0G,SAASF,EAAoBG,IAAI,SAAUf,GAC3E,OAAQ,UAAYA,EAAM,SAAWA,EAAM,SAAWA,MAsCtDH,EAAuB,WAKvB,QAASA,KACLvF,EAAgBzB,KAAMgH,EAEtB,IAAIpB,GAAQ3D,OAAOC,OAAOiG,YAAYnG,WAClCoG,KACAd,EAASU,EAAiBK,OAAO,SAAU5H,EAAG6H,GAE9C,MADA7H,GAAE6H,MACK7H,IAEP8H,qBACAC,oBACAC,oBACAC,4BACAC,2BACAC,4BAQJ5I,MAAKkH,SAAYtB,MAAOA,EAAOwC,SAAUA,EAAUd,OAAQA,GAgH/D,MAvGA3D,GAAaqD,IACThD,IAAK,UACL5B,MAAO,SAAkBA,GAErB,MADApC,MAAKkH,QAAQ,WAAa9E,EACnBpC,QASXgE,IAAK,QACL5B,MAAO,SAAeA,GAElB,MADApC,MAAKkH,QAAQtB,MAAQxD,EACdpC,QASXgE,IAAK,UACL5B,MAAO,WAGH,IAAK,GAFDyG,GAAS7I,KAEJ8I,EAAOlB,UAAU5G,OAAQoH,EAAWW,MAAMD,GAAOE,EAAO,EAAUF,EAAPE,EAAaA,IAC7EZ,EAASY,GAAQpB,UAAUoB,EAM/B,OAHAZ,GAAS9B,QAAQ,SAAU2C,GACvB,MAAOJ,GAAO3B,QAAQkB,SAASzC,KAAKsD,KAEjCjJ,QAUXgE,IAAK,KACL5B,MAAO,SAAY8G,GACf,GAAIC,GAASnJ,KAETkG,EAAS,SAAgBkD,GAEzB,MADAD,GAAOjC,QAAQI,OAAO4B,GAAOvD,KAAKyD,GAC3BD,EAEX,QAASjD,OAAQA,MASrBlC,IAAK,WACL5B,MAAO,SAAkB+E,GACrB,GAAIkC,GAASrJ,IAEbA,MAAKkH,QAAQI,OAAO,mBAAmBhB,QAAQ,SAAUuB,GACrD,MAAOA,GAAGwB,EAAOnC,YAGpB,EAAG3F,EAAS2E,QAAQlG,KAAKkH,QAAQkB,SAAU,QAASpI,KAAKkH,QAAQtB,OAAQ,EAAGrE,EAAS+H,MAAMtJ,KAAK6F,GAAI7F,OAErGA,KAAKkH,QAAQI,OAAO,kBAAkBhB,QAAQ,SAAUuB,GACpD,MAAOA,GAAGwB,EAAOnC,WAGrBa,EAAoBzB,SAAS,EAAG/E,EAASgI,SAAStC,EAAgBjH,KAAKkH,SAEvE,IAAIsC,IAAYxH,UAAWhC,KAAKkH,QAAQtB,QAEnC,EAAGrE,EAASkI,UAAUzJ,KAAKkH,QAAQ,cACpCsC,EAAQ,WAAaxJ,KAAKkH,QAAQ,YAGtClH,KAAKkH,QAAQI,OAAO,0BAA0BhB,QAAQ,SAAUuB,GAC5D,MAAOA,GAAGwB,EAAOnC,UAGrB,IAAIwC,GAAgBC,SAASC,gBAAgBzC,EAAMqC,EAUnD,OARAxJ,MAAKkH,QAAQI,OAAO,yBAAyBhB,QAAQ,SAAUuB,GAC3D,MAAOA,GAAG6B,KAGd1J,KAAKkH,QAAQI,OAAO,yBAAyBhB,QAAQ,SAAUuB,GAC3D,MAAOA,GAAG6B,KAGPA,MAIR1C,IAGXxH,GAAQwH,qBAAuBA,MAGhCL,cAAc,KAAKkD,GAAG,SAASnJ,EAAQjB,EAAOD,IACjD,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,cAAe,wBAAyB,gBAAiBwB,OACzE,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,eAAgBA,EAAQ,yBAA0BA,EAAQ,qBAChF,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,MAAOtB,EAAOwB,iBAAkBxB,EAAOgH,SACnEhH,EAAOgK,gBAAkB3I,EAAI3B,UAElCQ,KAAM,SAAUR,EAAS+B,EAAUwI,EAAqBC,GACvD,YAUA,SAASvI,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAVjeE,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,IAYtduF,EAAkB,SAAWG,GAO7B,QAASH,GAAgBI,GACrBzI,EAAgBzB,KAAM8J,GAEtB3F,EAAKlC,OAAOiD,eAAe4E,EAAgB9H,WAAY,cAAehC,MAAMe,KAAKf,MAIjFA,KAAKkK,aAAeA,EAIpBlK,KAAKsF,QACD4E,EAAa5E,KAAK1C,SAClB5C,KAAKsF,KAAK1C,SAAWsH,EAAa5E,KAAK1C,SAChC5C,KAAKkK,aAAa5E,KAAKG,SAC9BzF,KAAKsF,KAAKG,SAAWyE,EAAa5E,KAAKG,SAChCzF,KAAKkK,aAAa5E,KAAK6E,WAC9BnK,KAAKsF,KAAK6E,SAAWD,EAAa5E,KAAK6E,UAiJ/C,MAxKAtI,GAAUiI,EAAiBG,GAiC3BtG,EAAamG,IACT9F,IAAK,KACL5B,MAAO,SAAYgI,GAEf,MADApK,MAAKsF,KAAK8E,SAAWA,EACdpK,QASXgE,IAAK,WACL5B,MAAO,SAAkBqD,GAOrB,MANAzF,MAAKsF,KAAK1C,SAAW,MACf,EAAGrB,EAAS4B,aAAasC,GAG3BzF,KAAKsF,KAAKG,SAAWzF,KAAKkK,aAAa5E,KAAKG,SAF5CzF,KAAKsF,KAAKG,SAAWA,EAIlBzF,QASXgE,IAAK,YACL5B,MAAO,SAAmBQ,GAOtB,MANA5C,MAAKsF,KAAKG,SAAW,MACf,EAAGlE,EAAS4B,aAAaP,GAG3B5C,KAAKsF,KAAK1C,SAAW5C,KAAKkK,aAAa5E,KAAK1C,UAAY5C,KAAKkK,aAAa5E,KAAKG,SAF/EzF,KAAKsF,KAAK1C,SAAWA,EAIlB5C,QASXgE,IAAK,SACL5B,MAAO,SAAgB+H,GAOnB,MANAnK,MAAKsF,KAAK6E,SAAW,MACf,EAAG5I,EAAS4B,aAAagH,GAG3BnK,KAAKsF,KAAK6E,SAAWnK,KAAKkK,aAAa5E,KAAK6E,SAF5CnK,KAAKsF,KAAK6E,SAAWA,EAIlBnK,QAOXgE,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIP,GAAOtF,KAAKsF,KACZ+E,EAAmBrK,KAAKkK,aAAa5E,KACrCgF,EAAmBtK,KAAKsF,KAAKG,SAC7B8E,EAAmBvK,KAAKsF,KAAK6E,SAC7BK,EAAmBxK,KAAKsF,KAAK1C,SAC7B6H,EAAcJ,EAAiBxF,OAC/B6F,EAAcL,EAAiBM,MAE/BN,GAAiBzH,UACjByH,EAAiBhH,cAAgB,SAAUT,EAAUC,GACjD,MAAO,YACH,GAAIgB,GAAS7D,KAAK4K,cAActF,EAAK8E,SACrC,OAAIvG,GACO2G,GAAoB,EAAGT,EAAoBrH,aAAamB,EAAQ2G,EAAkB3H,GAAagB,EAAOyG,GADjH,SAKRD,EAAiB/G,cAAgB,SAAUV,EAAUC,GACjD,MAAO,UAAUT,GACb,GAAIyB,GAAS7D,KAAK4K,cAActF,EAAK8E,UACjCjE,EAAY/D,CACZyB,KACI2G,GACC,EAAGT,EAAoB/G,aAAaa,EAAQ2G,EAAkB3H,EAAWsD,GAE1EtC,EAAOyG,GAAoBnE,GAE9B,EAAG4D,EAAoB/G,aAAahD,KAAM4C,EAAUC,EAAWsD,OAIrEkE,EAAiB5E,UACxB4E,EAAiB7E,iBAAkB,EACnC6E,EAAiBxF,OAAS,SAAUlC,GAChC,GAAIkB,GAASlB,EAAGiI,cAActF,EAAK8E,UAC/BS,EAAc/F,MAQlB,OAPIjB,KAEIgH,EADAL,EACc3G,EAAOd,aAAayH,GAEpB3G,EAAOyG,KAGrB,EAAG/I,EAASkC,YAAYgH,GAAeA,EAAY1J,KAAK4B,EAAIA,EAAIkI,GAAeA,GAE3FR,EAAiBM,OAAS,SAAUhI,EAAIP,GACpC,GAAIyB,GAASlB,EAAGiI,cAActF,EAAK8E,UAC/BS,GAAe,EAAGtJ,EAASkC,YAAYiH,GAAeA,EAAY3J,KAAK4B,EAAIA,EAAIP,GAASA,CACxFyB,KACI2G,EACA3G,EAAOZ,aAAauH,EAAkBK,GAEtChH,EAAOyG,GAAoBO,KAIhCR,EAAiBF,WACxBE,EAAiBnE,OAAS,SAAUvD,GAChC,GAAIkB,GAASlB,EAAGiI,cAActF,EAAK8E,SACnC,KAAK,EAAG7I,EAASkC,YAAYI,EAAO0G,IAAoB,CACpD,GAAI9C,IAAQ,EAAGlG,EAASoG,SAASC,UAEjC,OADAH,GAAKqD,QACEjH,EAAO0G,GAAkBzC,MAAMjE,EAAQ4D,MAK1DzH,KAAKkK,aAAaa,MAAMnF,EAAOC,OAIhCiE,GACRE,EAAWlD,QAEdtH,GAAQsK,gBAAkBA,MAG3BnD,cAAc,GAAGqE,wBAAwB,EAAEC,eAAe,IAAIC,GAAG,SAASxK,EAAQjB,EAAOD,IAC5F,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,cAAe,gBAAiBwB,OAChD,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,eAAgBA,EAAQ,qBAC9C,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,MAAOtB,EAAOgH,SAC1ChH,EAAOqL,cAAgBhK,EAAI3B,UAEhCQ,KAAM,SAAUR,EAAS+B,EAAUyI,GAClC,YAUA,SAASvI,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAVjeE,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,IAYtd4G,EAAgB,SAAWlB,GAO3B,QAASkB,GAAchB,GACnB1I,EAAgBzB,KAAMmL,GAEtBhH,EAAKlC,OAAOiD,eAAeiG,EAAcnJ,WAAY,cAAehC,MAAMe,KAAKf,MAI/EA,KAAKsF,MAAS6E,SAAUA,EAAUiB,aAwEtC,MArFAvJ,GAAUsJ,EAAelB,GAsBzBtG,EAAawH,IACTnH,IAAK,SACL5B,MAAO,SAAgByF,GAInB,OAHK,EAAGtG,EAASkC,YAAYoE,KACzB7H,KAAKsF,KAAKY,OAAS2B,GAEhB7H,QASXgE,IAAK,OACL5B,MAAO,WACH,IAAK,GAAI0G,GAAOlB,UAAU5G,OAAQoK,EAAWrC,MAAMD,GAAOE,EAAO,EAAUF,EAAPE,EAAaA,IAC7EoC,EAASpC,GAAQpB,UAAUoB,EAI/B,OADAhJ,MAAKsF,KAAK8F,SAAWpL,KAAKsF,KAAK8F,SAAS1D,OAAO0D,GACxCpL,QAOXgE,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIP,GAAOtF,KAAKsF,IAEZA,GAAKY,SACLN,EAAMN,EAAK6E,UAAY,WACnB,MAAO7E,GAAKY,OAAO4B,MAAM9H,MAAOA,MAAM0H,QAAQ,EAAGnG,EAASoG,SAASC,eAIvEtC,EAAK8F,SAASpK,QACd6E,EAAG,0BAA0BK,OAAO,SAAUvD,IACrC,EAAGpB,EAASkC,YAAYd,EAAG2C,EAAK6E,aACjC,WACI,GAAIkB,GAAY/F,EAAK8F,SAASpK,OAAS,EACnCoG,EAAWzE,EAAG2C,EAAK6E,UACnBtG,EAAS,WACT,GAAI4D,IAAQ,EAAGlG,EAASoG,SAASC,UACjCH,GAAKqD,QACL1D,EAASU,MAAMnF,EAAI8E,GAEvB9E,GAAG2C,EAAK6E,UAAY7E,EAAK8F,SAAS/C,OAAO,SAAUiD,EAAMC,EAAS5K,EAAGF,GACjE,MAAIE,KAAM0K,GACE,EAAG9J,EAAS+H,OAAO,EAAG/H,EAASgI,SAASgC,EAASD,EAAM3I,GAAKA,IAEhE,EAAGpB,EAAS+H,OAAO,EAAG/H,EAASgI,SAASgC,EAASD,GAAO3I,IACjEkB,YAQpBsH,GACRnB,EAAWlD,QAEdtH,GAAQ2L,cAAgBA,MAGzBxE,cAAc,GAAGsE,eAAe,IAAIO,GAAG,SAAS9K,EAAQjB,EAAOD,IAClE,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,cAAe,gBAAiBwB,OAChD,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,eAAgBA,EAAQ,qBAC9C,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,MAAOtB,EAAOgH,SAC1ChH,EAAO2L,UAAYtK,EAAI3B,UAE5BQ,KAAM,SAAUR,EAAS+B,EAAUyI,GAClC,YAYA,SAASvI,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAZjeE,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIsJ,GAAiB,WAAe,QAASC,GAAcC,EAAKjL,GAAK,GAAIkL,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKlH,MAAW,KAAM,IAAK,GAAiCmH,GAA7BC,EAAKN,EAAIO,OAAOC,cAAmBN,GAAMG,EAAKC,EAAGZ,QAAQe,QAAoBR,EAAKlG,KAAKsG,EAAG7J,QAAYzB,GAAKkL,EAAK7K,SAAWL,GAA3DmL,GAAK,IAAoE,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,EAAO,QAAU,KAAWR,GAAMI,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIH,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUD,EAAKjL,GAAK,GAAIoI,MAAMwD,QAAQX,GAAQ,MAAOA,EAAY,IAAIO,OAAOC,WAAYnK,QAAO2J,GAAQ,MAAOD,GAAcC,EAAKjL,EAAa,MAAM,IAAIiB,WAAU,4DAEnlB+B,EAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,IAYtdkH,EAAY,SAAWxB,GAOvB,QAASwB,GAAUnE,GACf7F,EAAgBzB,KAAMyL,GAEtBtH,EAAKlC,OAAOiD,eAAeuG,EAAUzJ,WAAY,cAAehC,MAAMe,KAAKf,MAI3EA,KAAKsF,MAASgC,OAAQA,EAAQpB,OAAQ3E,EAASiL,MAuKnD,MApLA3K,GAAU4J,EAAWxB,GAwBrBtG,EAAa8H,IACTzH,IAAK,SACL5B,MAAO,SAAgByF,GAInB,OAHK,EAAGtG,EAASkC,YAAYoE,KACzB7H,KAAKsF,KAAKY,OAAS2B,GAEhB7H,QAQXgE,IAAK,UACL5B,MAAO,WAEH,MADApC,MAAKsF,KAAKmH,SAAU,EACbzM,QASXgE,IAAK,WACL5B,MAAO,SAAkBgI,GAErB,MADApK,MAAKsF,KAAK8E,SAAWA,EACdpK,QAQXgE,IAAK,UACL5B,MAAO,WAEH,MADApC,MAAKsF,KAAKoH,gBAAiB,EACpB1M,QAQXgE,IAAK,OACL5B,MAAO,WAEH,MADApC,MAAKsF,KAAKqH,iBAAkB,EACrB3M,QAQXgE,IAAK,OACL5B,MAAO,WACH,MAAOpC,MAAK4M,UAAUC,UAO1B7I,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIyB,GAAStH,KAAKsF,KAAKgC,OAAOwF,MAAM,KAAK5E,IAAI,SAAUgB,GACnD,MAAOA,GAAM6D,OAAOD,MAAM,OAE1BL,IAAYzM,KAAKsF,KAAKmH,QACtBvG,EAASlG,KAAKsF,KAAKY,OACnBkE,EAAWpK,KAAKsF,KAAK8E,SACrBuC,EAAkB3M,KAAKsF,KAAKqH,gBAC5BD,EAAiB1M,KAAKsF,KAAKoH,cAE/B7G,GAAG,0BAA0BK,OAAO,SAAUvD,GAC1CA,EAAGqK,oBAGPnH,EAAG,2BAA2BK,OAAO,SAAUvD,GAC3C,GAAI+C,GAAW,SAAkBuH,GAC7B,GAAI7C,EAAU,CACV,GAAIvG,IAAU,EAAGtC,EAAS2L,OAAO,EAAG3L,EAASoG,SAAShF,EAAGwK,iBAAiB/C,IAAY,SAAUzH,GAC5F,MAAOA,KAAOsK,EAAIpJ,QAAUlB,EAAGyK,SAASH,EAAIpJ,SAE5CA,KACI8I,GACAM,EAAIN,kBAEJD,GACAO,EAAIP,iBAERxG,EAAOvD,EAAIsK,EAAKpJ,QAGhB8I,IACAM,EAAIN,kBAEJD,GACAO,EAAIP,iBAERxG,EAAOvD,EAAIsK,EAAKtK,GAIxBA,GAAGqK,eAAiB1F,EAAOY,IAAI,SAAUmF,GACrC,GAAIC,GAAQ5B,EAAe2B,EAAM,GAE7BlG,EAAOmG,EAAM,GACbzJ,EAASyJ,EAAM,EACnB,QAAQnG,EAAMtD,EAASlB,EAAGiI,cAAc/G,GAAUlB,KACnD4K,OAAO,SAAUC,GAChB,GAAIC,GAAS/B,EAAe8B,EAAO,GAG/B3J,GADO4J,EAAO,GACLA,EAAO,GACpB,SAAS5J,IACVqE,IAAI,SAAUwF,GACb,GAAIC,GAASjC,EAAegC,EAAO,GAE/BvG,EAAOwG,EAAO,GACd9J,EAAS8J,EAAO,EAGpB,OADA9J,GAAO+J,iBAAiBzG,EAAMzB,EAAU+G,IAChC5I,EAAQsD,EAAMzB,EAAU+G,KAGpC9J,EAAGqK,eAAe1G,QAAQ,SAAUuH,GAChC,GAAIC,GAASpC,EAAemC,EAAO,GAE/BhK,EAASiK,EAAO,GAChB3G,EAAO2G,EAAO,GACdpI,EAAWoI,EAAO,GAClBrB,EAAUqB,EAAO,EACrB,OAAOjK,GAAO+J,iBAAiBzG,EAAMzB,EAAU+G,OAIvD5G,EAAG,2BAA2BK,OAAO,SAAUvD,GAC3CA,EAAGqK,eAAe1G,QAAQ,SAAUyH,GAChC,GAAIC,GAAStC,EAAeqC,EAAO,GAE/BlK,EAASmK,EAAO,GAChB7G,EAAO6G,EAAO,GACdtI,EAAWsI,EAAO,GAClBvB,EAAUuB,EAAO,EACrB,OAAOnK,GAAOoK,oBAAoB9G,EAAMzB,EAAU+G,WAM3DhB,GACRzB,EAAWlD,QAEdtH,GAAQiM,UAAYA,MAGrB9E,cAAc,GAAGsE,eAAe,IAAIiD,GAAG,SAASxN,EAAQjB,EAAOD,IAClE,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,eAAgB,eAAgBwB,OAChD,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,gBAAiBA,EAAQ,oBAC/C,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOgH,QAAShH,EAAOsB,OAC5CtB,EAAOuB,gBAAkBF,EAAI3B,UAElCQ,KAAM,SAAUR,EAASwK,EAAYzI,GACpC,YAUA,SAASE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAVjeE,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,IAMtd4J,GACA9L,YAAY,EACZ+L,WAAW,EACX5I,iBAAiB,GASjBnE,EAAkB,SAAW4I,GAO7B,QAAS5I,GAAgBoE,GACrBhE,EAAgBzB,KAAMqB,GAEtB8C,EAAKlC,OAAOiD,eAAe7D,EAAgBW,WAAY,cAAehC,MAAMe,KAAKf,MAIjFA,KAAKsF,MAAQ,EAAG/D,EAAS8D,SAAUI,SAAUA,GAAY0I,GA4G7D,MAzHAtM,GAAUR,EAAiB4I,GAqB3BtG,EAAatC,IACT2C,IAAK,YACL5B,MAAO,WAEH,MADApC,MAAKsF,KAAK8I,WAAY,EACfpO,QAQXgE,IAAK,SACL5B,MAAO,WAEH,MADApC,MAAKsF,KAAKjD,YAAa,EAChBrC,QASXgE,IAAK,QACL5B,MAAO,SAAeiM,GAElB,MADArO,MAAKsF,KAAKlD,MAAQiM,EACXrO,QASXgE,IAAK,SACL5B,MAAO,SAAgByF,GAGnB,MAFA7H,MAAKsF,KAAKE,iBAAkB,EAC5BxF,KAAKsF,KAAKT,OAASgD,EACZ7H,QASXgE,IAAK,SACL5B,MAAO,SAAgByF,GAGnB,MAFA7H,MAAKsF,KAAKE,iBAAkB,EAC5BxF,KAAKsF,KAAKqF,OAAS9C,EACZ7H,QAOXgE,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIC,GAAQ9F,KAERsF,EAAOtF,KAAKsF,KACZS,GAAgB,EAAGxE,EAASyE,QAAQhG,KAAKsF,KAAM,SAC/CvB,GACA1B,WAAYrC,KAAKsF,KAAKjD,WAGtBrC,MAAKsF,KAAK8I,WACVrK,EAAWxB,cAAe,EAC1BwB,EAAWzB,UAAW,IACd,EAAGf,EAASkC,YAAYzD,KAAKsF,KAAKT,UAAY,EAAGtD,EAASkC,YAAYzD,KAAKsF,KAAKqF,SACxF5G,EAAWxB,cAAe,EAC1BwB,EAAWkB,IAAM,WACb,MAAOK,GAAKT,OAAO9D,KAAKf,KAAMA,OAElC+D,EAAWkC,IAAM,SAAU7D,GACvB,MAAOkD,GAAKqF,OAAO5J,KAAKf,KAAMA,KAAMoC,MAGxC2B,EAAWxB,cAAe,EAC1BwB,EAAWzB,UAAW,GAGtBtC,KAAKsF,KAAKE,kBACVzB,EAAW3B,MAAQ2D,GAGvB9D,OAAOyB,eAAekC,EAAO5F,KAAKsF,KAAKG,SAAU1B,GAEjD8B,EAAG,yBAAyBK,OAAO,SAAUvD,GACpCmD,EAAMR,KAAKE,kBAAqB,EAAGjE,EAAS4B,aAAa4C,KAC1DpD,EAAG2C,EAAKG,UAAYM,SAM7B1E,GACR2I,EAAWlD,QAEdtH,GAAQ6B,gBAAkBA,MAG3BsF,cAAc,GAAGsE,eAAe,IAAIqD,GAAG,SAAS5N,EAAQjB,EAAOD,IAClE,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,UAAW,cAAe,eAAgB,wBAAyBwB,OACxE,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,EAASkB,EAAQ,eAAgBA,EAAQ,gBAAiBA,EAAQ,6BACvE,CACH,GAAIS,IACA3B,WAEJ0B,GAAQC,EAAI3B,QAASM,EAAOsB,MAAOtB,EAAOgH,QAAShH,EAAOuB,iBAC1DvB,EAAOyO,gBAAkBpN,EAAI3B,UAElCQ,KAAM,SAAUR,EAAS+B,EAAUyI,EAAYxI,GAC9C,YAYA,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA8Bje,QAASyM,GAAWC,GAChB,MAA4C,KAArCA,EAAKC,OAAOC,IAAoE,KAArCF,EAAKC,OAAOE,GASlE,QAASC,GAAeJ,EAAMK,GAC1B,MAAOL,GAAKM,QAAQ,sBAAuB,6CAA6CA,QAAQ,cAAeD,GAQnH,QAASE,GAAgBrM,GACrB,GAAKA,EAAL,CAGA,GAAIsM,GAAkBtM,EAAGI,aAAamM,EACtC,OAAID,GACOD,EAAgBrM,EAAGiI,cAAc,IAAMqE,EAAkB,OAAStM,EAEtEA,GAQX,QAASwM,GAAoBxM,GAGzB,IAFA,GAAIyM,GAAiBzM,EAAG0M,SACpBC,EAAY3F,SAAS4F,yBAClBH,EAAeI,WAAWxO,OAAS,GACtCsO,EAAUG,YAAYL,EAAeM,YAAYN,EAAeI,WAAW,IAE/E,OAAOF,GAQX,QAASK,GAAmBhN,EAAI2M,GAC5B3M,EAAG0M,SAASI,YAAYH,GAS5B,QAASM,GAAcjN,EAAIkN,GACvB,GAAIP,MACAQ,EAAoBtB,EAAWqB,EAEnC,IAAIC,EAAmB,CACnB,GAAIhB,GAAkB,eAAiBiB,GACvCT,GAAYH,EAAoBxM,GAEhCkN,EAAMhB,EAAegB,EAAKf,GAE1BnM,EAAGM,aAAaiM,EAA0BJ,GAG9CnM,EAAGqN,UAAYH,EAEXC,GACAH,EAAmBhN,EAAI2M,GArH/BrN,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,GAGX,IAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAInD,GAAI,EAAGA,EAAImD,EAAM9C,OAAQL,IAAK,CAAE,GAAIoD,GAAaD,EAAMnD,EAAIoD,GAAW1B,WAAa0B,EAAW1B,aAAc,EAAO0B,EAAWxB,cAAe,EAAU,SAAWwB,KAAYA,EAAWzB,UAAW,GAAML,OAAOyB,eAAeG,EAAQE,EAAWC,IAAKD,IAAiB,MAAO,UAAUpC,EAAasC,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBjC,EAAYK,UAAWiC,GAAiBC,GAAaN,EAAiBjC,EAAauC,GAAqBvC,MAE7hBwC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAASC,OAAWP,GAAS,EAAsB,OAAXC,IAAiBA,EAASO,SAAS/C,UAAW,IAAI2C,GAAO1C,OAAO+C,yBAAyBR,EAAQC,EAAW,IAAaK,SAATH,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKvC,KAAgB,IAAIyC,GAASF,EAAKM,GAAK,OAAeH,UAAXD,EAA+BC,OAAoBD,EAAO9D,KAAK2D,GAApU,GAAIE,GAAS3C,OAAOiD,eAAeV,EAAS,IAAe,OAAXI,EAAmB,MAAOE,OAAoBV,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,GAE1d/E,GAAQoQ,cAAgBA,CAUxB,IAAIG,GAAU,EAMVb,EAA2B,qBAM3BP,EAAsB,iBAMtBC,EAAsB,yBA2FtBL,EAAkB,SAAWtE,GAO7B,QAASsE,GAAgBsB,GACrBpO,EAAgBzB,KAAMuO,GAEtBpK,EAAKlC,OAAOiD,eAAeqJ,EAAgBvM,WAAY,cAAehC,MAAMe,KAAKf,MAIjFA,KAAKsF,MAASuK,IAAKA,GAsBvB,MAnCAhO,GAAU0M,EAAiBtE,GAoB3BtG,EAAa4K,IACTvK,IAAK,QACL5B,MAAO,SAAewD,EAAOC,GACzB,GAAIP,GAAOtF,KAAKsF,IAEhB,IAAI9D,GAAmBH,gBAAgB,YAAYwD,OAAO,SAAUlC,GAChE,MAAOqM,GAAgBrM,KACxBoI,MAAMnF,EAAOC,GAEhBA,EAAG,0BAA0BK,OAAO,SAAUvD,GAC1CiN,EAAcjN,GAAK,EAAGpB,EAASkC,YAAY6B,EAAKuK,KAAOvK,EAAKuK,IAAIlN,GAAM2C,EAAKuK,WAKhFtB,GACRvE,EAAWlD,QAEdtH,GAAQ+O,gBAAkBA,MAG3B5H,cAAc,GAAGsE,eAAe,EAAErE,uBAAuB,IAAIqJ,GAAG,SAASvP,EAAQjB,EAAOD,IAC3F,SAAWM,EAAQoB,GACjB,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACzCD,GAAQ,UAAW,oCAAqC,+BAAgC,gCAAiC,+BAAgC,6BAA8B,+BAAgC,yBAA0B,wBAAyBwB,OACrQ,IAAuB,mBAAZ1B,GAChB0B,EAAQ1B,EAASkB,EAAQ,qCAAsCA,EAAQ,gCAAiCA,EAAQ,iCAAkCA,EAAQ,gCAAiCA,EAAQ,8BAA+BA,EAAQ,gCAAiCA,EAAQ,0BAA2BA,EAAQ,6BACjT,CACL,GAAIS,IACF3B,WAEF0B,GAAQC,EAAI3B,QAASM,EAAOkH,qBAAsBlH,EAAOuB,gBAAiBvB,EAAOwB,iBAAkBxB,EAAOgK,gBAAiBhK,EAAOqL,cAAerL,EAAOyO,gBAAiBzO,EAAO2L,UAAW3L,EAAOgH,SAClMhH,EAAOG,IAAMkB,EAAI3B,UAElBQ,KAAM,SAAUR,EAAS0Q,EAAgCC,EAA2BC,EAA4BC,EAA2BC,EAAyBC,EAA2BC,EAAqBC,GACrN,YAyBA,SAASxQ,KACP,MAAO,IAAIiQ,GAA+BlJ,qBAS5C,QAASvC,GAASgB,GAChB,MAAO,IAAI0K,GAA0B9O,gBAAgBoE,GASvD,QAASiL,GAAU9N,GACjB,MAAO,IAAIwN,GAA2B9O,iBAAiBsB,GAYzD,QAAS+N,GAAOxG,GACd,MAAO,IAAImG,GAAwBnF,cAAchB,GASnD,QAASyG,GAAS3H,GAChB,MAAO,IAAIoH,GAA0BvG,gBAAgBb,GASvD,QAAS4H,GAAShB,GAChB,MAAO,IAAIU,GAA0BhC,gBAAgBsB,GAWvD,QAAShK,GAAGyB,GACV,MAAO,IAAIkJ,GAAoB/E,UAAUnE,GAzF3CrF,OAAOyB,eAAelE,EAAS,cAC7B4C,OAAO,IAET5C,EAAQS,IAAMA,EACdT,EAAQiF,SAAWA,EACnBjF,EAAQkR,UAAYA,EACpBlR,EAAQmR,OAASA,EACjBnR,EAAQoR,SAAWA,EACnBpR,EAAQqR,SAAWA,EACnBrR,EAAQqG,GAAKA,CAMb,IAAIiB,GAAU2J,EAAkB3J,OAEhCtH,GAAQsH,QAAUA,EA8BlB4J,EAAUhO,YAAc0N,EAA2B1N,YACnDgO,EAAU1N,YAAcoN,EAA2BpN,YAgCnD6N,EAASjB,cAAgBW,EAA0BX,kBAalDkB,gCAAgC,EAAEC,uBAAuB,EAAEC,oCAAoC,EAAEC,+BAA+B,EAAEC,6BAA6B,EAAEC,yBAAyB,EAAEC,+BAA+B,EAAEC,+BAA+B,IAAIC,IAAI,SAAS5Q,EAAQjB,EAAOD,IAC/R,SAAWM,EAAQoB,GACf,GAAsB,kBAAXxB,IAAyBA,EAAOC,IACvCD,GAAQ,WAAYwB,OACjB,IAAuB,mBAAZ1B,GACd0B,EAAQ1B,OACL,CACH,GAAI2B,IACA3B,WAEJ0B,GAAQC,EAAI3B,SACZM,EAAOsB,MAAQD,EAAI3B,UAExBQ,KAAM,SAAUR,GAIf,YAuBA,SAAS4F,GAAUhD,GACf,MAAOA,GAAMmP,cAAczE,MAAM,KAAK5E,IAAI,SAAUsJ,EAAMC,GACtD,MAAOA,GAAQD,EAAKE,OAAO,GAAGC,cAAgBH,EAAKI,MAAM,GAAKJ,IAC/DK,KAAK,IAOZ,QAASpO,GAAW9C,GAChB,MAA6C,sBAAtCsB,OAAOD,UAAU8P,SAAS/Q,KAAKJ,GAO1C,QAASwC,GAAYxC,GACjB,MAAamE,UAANnE,EAOX,QAASyC,GAAOzC,GACZ,MAAa,QAANA,EAOX,QAAS8I,GAAS9I,GACd,MAA6C,oBAAtCsB,OAAOD,UAAU8P,SAAS/Q,KAAKJ,GAO1C,QAAS4L,GAAQ5L,GACb,MAA6C,mBAAtCsB,OAAOD,UAAU8P,SAAS/Q,KAAKJ,GAO1C,QAASqF,GAAO+L,EAAKC,GACjB,GAAI5P,GAAQ2P,EAAIC,EAChB,OAAOvO,GAAWrB,GAASA,IAAUA,EAOzC,QAASiD,KACL,MAAO0D,OAAM/G,UAAUqG,OAAOtH,KAAK6G,UAAW,SAAU/D,EAAQoO,GAC5D,MAAOhQ,QAAOiQ,KAAKjQ,OAAOgQ,IAAS5J,OAAO,SAAUxE,EAAQG,GAExD,MADAH,GAAOG,GAAOiO,EAAOjO,GACdH,GACRA,KAQX,QAAS8D,GAAQhH,GACb,MAAOoI,OAAM/G,UAAU4P,MAAM7Q,KAAKJ,GAOtC,QAASsH,GAAQkK,GACb,MAAOA,GAAM9J,OAAO,SAAU5H,EAAG6H,GAC7B,MAAOiE,GAAQjE,GAAK7H,EAAEiH,OAAOO,EAAQK,IAAM7H,EAAEiH,OAAOY,QAQ5D,QAASpC,KACL,GAAIuB,GAAOE,EAAQC,WACfwK,EAAU3K,EAAKqD,QACfuH,EAAO5K,EAAKqD,OACZyB,GAAQ6F,IACRA,EAAQ7E,OAAO,SAAUwE,GACrB,MAAOtO,GAAWsO,EAAIM,MACvB/L,QAAQ,SAAUyL,GACjB,MAAOA,GAAIM,GAAMvK,MAAMiK,EAAKtK,KASxC,QAAS8B,KACL,GAAI9B,GAAOE,EAAQC,WACfC,EAAKJ,EAAKqD,OACd,OAAO,YACH,MAAOjD,GAAGC,MAAM9H,KAAMyH,EAAKC,OAAOC,EAAQC,cAQlD,QAAS0B,GAAKzB,EAAIyK,GACd,MAAO,YACH,MAAOzK,GAAGC,MAAMwK,EAAK3K,EAAQC,aAQrC,QAAS4E,KACL,MAAO,cAOX,QAAS+F,GAAK1K,EAAI2K,GACd,MAAOjJ,GAAQiJ,EAAS3K,GAO5B,QAASqF,GAAKiF,EAAO/I,GACjB,MAAO+I,GAAM5E,OAAOnE,GAAI,GAO5B,QAASqJ,GAAQ9P,EAAIuG,EAAOwJ,GACxB,GAAIzF,GAAMtD,SAASgJ,YAAY,cAE/B,OADA1F,GAAI2F,gBAAgB1J,EAAOwJ,EAAOG,QAASH,EAAOI,YAAaJ,EAAOK,QAC/DpQ,EAAGqQ,cAAc/F,GAjL5BhL,OAAOyB,eAAelE,EAAS,cAC3B4C,OAAO,IAEX5C,EAAQ4F,UAAYA,EACpB5F,EAAQiE,WAAaA,EACrBjE,EAAQ2D,YAAcA,EACtB3D,EAAQ4D,OAASA,EACjB5D,EAAQiK,SAAWA,EACnBjK,EAAQ+M,QAAUA,EAClB/M,EAAQwG,OAASA,EACjBxG,EAAQ6F,OAASA,EACjB7F,EAAQmI,QAAUA,EAClBnI,EAAQyI,QAAUA,EAClBzI,EAAQ0G,OAASA,EACjB1G,EAAQ+J,QAAUA,EAClB/J,EAAQ8J,KAAOA,EACf9J,EAAQgN,KAAOA,EACfhN,EAAQ+S,KAAOA,EACf/S,EAAQ0N,KAAOA,EACf1N,EAAQiT,QAAUA,cAkKX,IAAI","file":"ceb.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ceb = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js', './PropertyBuilder.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'), require('./PropertyBuilder.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils, global.PropertyBuilder);\n        global.AttributeBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs, _PropertyBuilderJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    exports.getAttValue = getAttValue;\n    exports.setAttValue = setAttValue;\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * Get the value from an attribute.\n     * @param {!HTMLElement} el an HTML element\n     * @param {!string} attrName the name of the attribute\n     * @param {!boolean} isBoolean true is the returned value should be a boolean\n     * @returns {string|boolean}\n     */\n\n    function getAttValue(el, attrName, isBoolean) {\n        if (isBoolean) {\n            return el.hasAttribute(attrName);\n        }\n        return el.getAttribute(attrName);\n    }\n\n    /**\n     * Set the value of an attribute.\n     * @param {!HTMLElement} el an HTML element\n     * @param {!string} attrName the name of the attribute\n     * @param {!boolean} isBoolean true is the value should be a boolean\n     * @param {string|boolean} value the value to set\n     */\n\n    function setAttValue(el, attrName, isBoolean, value) {\n        if (isBoolean) {\n            // Handle boolean value\n            if (value && !el.hasAttribute(attrName)) {\n                el.setAttribute(attrName, '');\n            } else if (!value && el.hasAttribute(attrName)) {\n                el.removeAttribute(attrName);\n            }\n        } else {\n            // Handle none boolean value\n            if (((0, _utilsJs.isUndefined)(value) || (0, _utilsJs.isNull)(value)) && el.hasAttribute(attrName)) {\n                // There is no value, so the attribute must be removed\n                el.removeAttribute(attrName);\n            } else if (!(0, _utilsJs.isUndefined)(value) && !(0, _utilsJs.isNull)(value) && el.getAttribute(attrName) !== value) {\n                // Sync the attribute value with value\n                el.setAttribute(attrName, value);\n            }\n        }\n    }\n\n    function getterFactory(attrName, isBoolean) {\n        return function () {\n            return getAttValue(this, attrName, isBoolean);\n        };\n    }\n\n    function setterFactory(attrName, isBoolean, attSetter) {\n        return function (value) {\n            var attValue = (0, _utilsJs.isFunction)(attSetter) ? attSetter.call(this, this, value) : value;\n            return setAttValue(this, attrName, isBoolean, attValue);\n        };\n    }\n\n    /**\n     * The attribute builder.\n     * Its goal is to provide a way to define an attribute.\n     * @extends {PropertyBuilder}\n     */\n\n    var AttributeBuilder = (function (_PropertyBuilder) {\n        _inherits(AttributeBuilder, _PropertyBuilder);\n\n        /**\n         * @param {!string} attrName the name of the attribute\n         */\n\n        function AttributeBuilder(attrName) {\n            _classCallCheck(this, AttributeBuilder);\n\n            _get(Object.getPrototypeOf(AttributeBuilder.prototype), 'constructor', this).call(this, (0, _utilsJs.camelCase)(attrName));\n            /**\n             * @ignore\n             */\n            (0, _utilsJs.assign)(this.data, {\n                attrName: attrName,\n                listeners: [],\n                getterFactory: getterFactory,\n                setterFactory: setterFactory,\n                descriptorValue: false,\n                getAttValue: getAttValue,\n                setAttValue: setAttValue\n            });\n        }\n\n        /**\n         * To handle the attribute/property value as a boolean:\n         * Attribute is present when true and missing when false.\n         * @returns {AttributeBuilder} the builder\n         */\n\n        _createClass(AttributeBuilder, [{\n            key: 'boolean',\n            value: function boolean() {\n                this.data.boolean = true;\n                return this;\n            }\n\n            /**\n             * To override the property name.\n             * @param {!string} propName the property name\n             * @returns {AttributeBuilder} the builder\n             */\n        }, {\n            key: 'property',\n            value: function property(propName) {\n                this.data.propName = propName;\n                return this;\n            }\n\n            /**\n             * To be notified when the attribute is updated.\n             * @param {function(el: HTMLElement, oldVal: string, newVal: string)} listener the listener function\n             * @returns {AttributeBuilder} the builder\n             */\n        }, {\n            key: 'listen',\n            value: function listen(listener) {\n                this.data.listeners.push(listener);\n                return this;\n            }\n\n            /**\n             * @override\n             */\n        }, {\n            key: 'build',\n            value: function build(proto, on) {\n                var _this = this;\n\n                var defaultValue = (0, _utilsJs.result)(this.data, 'value'),\n                    descriptor = {\n                    enumerable: this.data.enumerable,\n                    configurable: false,\n                    get: this.data.getterFactory(this.data.attrName, this.data.boolean),\n                    set: this.data.setterFactory(this.data.attrName, this.data.boolean)\n                };\n\n                Object.defineProperty(proto, this.data.propName, descriptor);\n\n                on('after:createdCallback').invoke(function (el) {\n                    var attrValue = getAttValue(el, _this.data.attrName, _this.data.boolean);\n                    if (_this.data.boolean) {\n                        el[_this.data.propName] = !!defaultValue ? defaultValue : attrValue;\n                    } else if (!(0, _utilsJs.isNull)(attrValue) && !(0, _utilsJs.isUndefined)(attrValue)) {\n                        el[_this.data.propName] = attrValue;\n                    } else if (!(0, _utilsJs.isUndefined)(defaultValue)) {\n                        el[_this.data.propName] = defaultValue;\n                    }\n\n                    if (_this.data.listeners.length > 0) {\n                        (function () {\n                            var oldValue = _this.data.boolean ? false : null;\n                            var setValue = el[_this.data.propName];\n                            if (oldValue !== setValue) {\n                                _this.data.listeners.forEach(function (listener) {\n                                    return listener.call(el, el, oldValue, setValue);\n                                });\n                            }\n                        })();\n                    }\n                });\n\n                on('before:attributeChangedCallback').invoke(function (el, attName, oldVal, newVal) {\n                    // Synchronize the attribute value with its properties\n                    if (attName === _this.data.attrName) {\n                        var newValue = _this.data.boolean ? newVal === '' : newVal;\n                        if (el[_this.data.propName] !== newValue) {\n                            el[_this.data.propName] = newValue;\n                        }\n                        if (_this.data.listeners.length > 0) {\n                            (function () {\n                                var oldValue = _this.data.boolean ? oldVal === '' : oldVal;\n                                var setValue = _this.data.boolean ? newVal === '' : newVal;\n                                if (oldValue !== setValue) {\n                                    _this.data.listeners.forEach(function (listener) {\n                                        return listener.call(el, el, oldValue, setValue);\n                                    });\n                                }\n                            })();\n                        }\n                    }\n                });\n            }\n        }]);\n\n        return AttributeBuilder;\n    })(_PropertyBuilderJs.PropertyBuilder);\n\n    exports.AttributeBuilder = AttributeBuilder;\n});\n\n},{\"../utils.js\":10,\"./PropertyBuilder.js\":7}],2:[function(require,module,exports){\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.Builder = mod.exports;\n  }\n})(this, function (exports) {\n  /**\n   * A builder is defined by a build method.\n   * @abstract\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Builder = (function () {\n    function Builder() {\n      _classCallCheck(this, Builder);\n    }\n\n    _createClass(Builder, [{\n      key: 'build',\n\n      /**\n       * To specify the logic of the builder.\n       * @param {!CustomElementBuilder.context.proto} proto the prototype\n       * @param {!CustomElementBuilder.on} on the method on\n       */\n      value: function build() {\n        throw new Error('not implemented');\n      }\n    }]);\n\n    return Builder;\n  })();\n\n  exports.Builder = Builder;\n});\n\n},{}],3:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils);\n        global.CustomElementBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    var LIFECYCLE_CALLBACKS = ['createdCallback', 'attachedCallback', 'detachedCallback', 'attributeChangedCallback'];\n\n    var LIFECYCLE_EVENTS = (0, _utilsJs.flatten)(LIFECYCLE_CALLBACKS.map(function (name) {\n        return ['before:' + name, 'after:' + name, 'ready:' + name];\n    }));\n\n    function applyLifecycle(context, name) {\n        var proto = context.proto,\n            original = proto[name],\n            beforeFns = context.events['before:' + name],\n            afterFns = context.events['after:' + name],\n            readyFns = context.events['ready:' + name];\n\n        proto[name] = function () {\n            var _this = this;\n\n            var args = [this].concat((0, _utilsJs.toArray)(arguments));\n\n            beforeFns.forEach(function (fn) {\n                return fn.apply(_this, args);\n            });\n\n            if ((0, _utilsJs.isFunction)(original)) {\n                original.apply(this, args);\n            }\n\n            afterFns.forEach(function (fn) {\n                return fn.apply(_this, args);\n            });\n\n            readyFns.forEach(function (fn) {\n                return fn.apply(_this, args);\n            });\n        };\n    }\n\n    /**\n     * The custom element builder.\n     * Its goal is to provide a user friendly way to do it by some else (i.e. dedicated builders).\n     */\n\n    var CustomElementBuilder = (function () {\n\n        /**\n         */\n\n        function CustomElementBuilder() {\n            _classCallCheck(this, CustomElementBuilder);\n\n            var proto = Object.create(HTMLElement.prototype),\n                builders = [],\n                events = LIFECYCLE_EVENTS.reduce(function (a, b) {\n                a[b] = [];\n                return a;\n            }, {\n                'before:builders': [],\n                'after:builders': [],\n                'ready:builders': [],\n                'before:registerElement': [],\n                'after:registerElement': [],\n                'ready:registerElement': []\n            });\n            /**\n             * @type {Object}\n             * @property {!Object} proto - the prototype\n             * @property {!string} extends - the name of a native element\n             * @desc the context of the builder\n             */\n            this.context = { proto: proto, builders: builders, events: events };\n        }\n\n        /**\n         * To extend a native element.\n         * @param {!string} value the name of the element\n         * @returns {CustomElementBuilder} the builder\n         */\n\n        _createClass(CustomElementBuilder, [{\n            key: 'extends',\n            value: function _extends(value) {\n                this.context['extends'] = value;\n                return this;\n            }\n\n            /**\n             * To override the default prototype.\n             * @param {!Object} value the prototype\n             * @returns {CustomElementBuilder} the builder\n             */\n        }, {\n            key: 'proto',\n            value: function proto(value) {\n                this.context.proto = value;\n                return this;\n            }\n\n            /**\n             * To apply the given builders during the build process.\n             * @param {...Builder} builders the builders\n             * @returns {CustomElementBuilder} the builder\n             */\n        }, {\n            key: 'augment',\n            value: function augment() {\n                var _this2 = this;\n\n                for (var _len = arguments.length, builders = Array(_len), _key = 0; _key < _len; _key++) {\n                    builders[_key] = arguments[_key];\n                }\n\n                builders.forEach(function (builder) {\n                    return _this2.context.builders.push(builder);\n                });\n                return this;\n            }\n\n            /**\n             * To register call back on events.\n             * @param {!string} event the event name\n             * @returns {Object} the on builder.\n             * @property {function(callback: function)} invoke - to register the callback\n             */\n        }, {\n            key: 'on',\n            value: function on(event) {\n                var _this3 = this;\n\n                var invoke = function invoke(cb) {\n                    _this3.context.events[event].push(cb);\n                    return _this3;\n                };\n                return { invoke: invoke };\n            }\n\n            /**\n             * To register the custom element.\n             * @param {!string} name the name of the cutsom element\n             * @returns {Element} the custom element Type\n             */\n        }, {\n            key: 'register',\n            value: function register(name) {\n                var _this4 = this;\n\n                this.context.events['before:builders'].forEach(function (fn) {\n                    return fn(_this4.context);\n                });\n\n                (0, _utilsJs.invoke)(this.context.builders, 'build', this.context.proto, (0, _utilsJs.bind)(this.on, this));\n\n                this.context.events['after:builders'].forEach(function (fn) {\n                    return fn(_this4.context);\n                });\n\n                LIFECYCLE_CALLBACKS.forEach((0, _utilsJs.partial)(applyLifecycle, this.context));\n\n                var options = { prototype: this.context.proto };\n\n                if ((0, _utilsJs.isString)(this.context['extends'])) {\n                    options['extends'] = this.context['extends'];\n                }\n\n                this.context.events['before:registerElement'].forEach(function (fn) {\n                    return fn(_this4.context);\n                });\n\n                var CustomElement = document.registerElement(name, options);\n\n                this.context.events['after:registerElement'].forEach(function (fn) {\n                    return fn(CustomElement);\n                });\n\n                this.context.events['ready:registerElement'].forEach(function (fn) {\n                    return fn(CustomElement);\n                });\n\n                return CustomElement;\n            }\n        }]);\n\n        return CustomElementBuilder;\n    })();\n\n    exports.CustomElementBuilder = CustomElementBuilder;\n});\n\n},{\"../utils.js\":10}],4:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js', './AttributeBuilder.js', './Builder.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'), require('./AttributeBuilder.js'), require('./Builder.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils, global.AttributeBuilder, global.Builder);\n        global.DelegateBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs, _AttributeBuilderJs, _BuilderJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * The delegate builder.\n     * Its goal is to provide a way to delegate methods, properties and attributes.\n     * @extends {Builder}\n     */\n\n    var DelegateBuilder = (function (_Builder) {\n        _inherits(DelegateBuilder, _Builder);\n\n        /**\n         * @param {!PropertyBuilder|AttributeBuilder|MethodBuilder} fieldBuilder the field builder\n         */\n\n        function DelegateBuilder(fieldBuilder) {\n            _classCallCheck(this, DelegateBuilder);\n\n            _get(Object.getPrototypeOf(DelegateBuilder.prototype), 'constructor', this).call(this);\n            /**\n             * @ignore\n             */\n            this.fieldBuilder = fieldBuilder;\n            /**\n             * @ignore\n             */\n            this.data = {};\n            if (fieldBuilder.data.attrName) {\n                this.data.attrName = fieldBuilder.data.attrName;\n            } else if (this.fieldBuilder.data.propName) {\n                this.data.propName = fieldBuilder.data.propName;\n            } else if (this.fieldBuilder.data.methName) {\n                this.data.methName = fieldBuilder.data.methName;\n            }\n        }\n\n        /**\n         * The target of the delegate.\n         * @param {!string} selector a valid css query\n         * @returns {DelegateBuilder} the builder\n         */\n\n        _createClass(DelegateBuilder, [{\n            key: 'to',\n            value: function to(selector) {\n                this.data.selector = selector;\n                return this;\n            }\n\n            /**\n             * To force the delegation to a property.\n             * @param {string} [propName] the name of the property\n             * @returns {DelegateBuilder} the builder\n             */\n        }, {\n            key: 'property',\n            value: function property(propName) {\n                this.data.attrName = null;\n                if (!(0, _utilsJs.isUndefined)(propName)) {\n                    this.data.propName = propName;\n                } else {\n                    this.data.propName = this.fieldBuilder.data.propName;\n                }\n                return this;\n            }\n\n            /**\n             * To force the delegation to an attribute.\n             * @param {string} [attrName] the name of the attribute\n             * @returns {DelegateBuilder} the builder\n             */\n        }, {\n            key: 'attribute',\n            value: function attribute(attrName) {\n                this.data.propName = null;\n                if (!(0, _utilsJs.isUndefined)(attrName)) {\n                    this.data.attrName = attrName;\n                } else {\n                    this.data.attrName = this.fieldBuilder.data.attrName || this.fieldBuilder.data.propName;\n                }\n                return this;\n            }\n\n            /**\n             * To force the delegation to a method.\n             * @param {string} [methName] the name of the method\n             * @returns {DelegateBuilder} the builder\n             */\n        }, {\n            key: 'method',\n            value: function method(methName) {\n                this.data.methName = null;\n                if (!(0, _utilsJs.isUndefined)(methName)) {\n                    this.data.methName = methName;\n                } else {\n                    this.data.methName = this.fieldBuilder.data.methName;\n                }\n                return this;\n            }\n\n            /**\n             * @override\n             */\n        }, {\n            key: 'build',\n            value: function build(proto, on) {\n                var data = this.data,\n                    fieldBuilderData = this.fieldBuilder.data,\n                    targetedPropName = this.data.propName,\n                    targetedMethName = this.data.methName,\n                    targetedAttrName = this.data.attrName,\n                    fieldGetter = fieldBuilderData.getter,\n                    fieldSetter = fieldBuilderData.setter;\n\n                if (fieldBuilderData.attrName) {\n                    fieldBuilderData.getterFactory = function (attrName, isBoolean) {\n                        return function () {\n                            var target = this.querySelector(data.selector);\n                            if (target) {\n                                return targetedAttrName ? (0, _AttributeBuilderJs.getAttValue)(target, targetedAttrName, isBoolean) : target[targetedPropName];\n                            }\n                        };\n                    };\n                    fieldBuilderData.setterFactory = function (attrName, isBoolean) {\n                        return function (value) {\n                            var target = this.querySelector(data.selector),\n                                attrValue = value;\n                            if (target) {\n                                if (targetedAttrName) {\n                                    (0, _AttributeBuilderJs.setAttValue)(target, targetedAttrName, isBoolean, attrValue);\n                                } else {\n                                    target[targetedPropName] = attrValue;\n                                }\n                                (0, _AttributeBuilderJs.setAttValue)(this, attrName, isBoolean, attrValue);\n                            }\n                        };\n                    };\n                } else if (fieldBuilderData.propName) {\n                    fieldBuilderData.descriptorValue = false;\n                    fieldBuilderData.getter = function (el) {\n                        var target = el.querySelector(data.selector),\n                            targetValue = undefined;\n                        if (target) {\n                            if (targetedAttrName) {\n                                targetValue = target.getAttribute(targetedAttrName);\n                            } else {\n                                targetValue = target[targetedPropName];\n                            }\n                        }\n                        return (0, _utilsJs.isFunction)(fieldGetter) ? fieldGetter.call(el, el, targetValue) : targetValue;\n                    };\n                    fieldBuilderData.setter = function (el, value) {\n                        var target = el.querySelector(data.selector),\n                            targetValue = (0, _utilsJs.isFunction)(fieldSetter) ? fieldSetter.call(el, el, value) : value;\n                        if (target) {\n                            if (targetedAttrName) {\n                                target.setAttribute(targetedAttrName, targetValue);\n                            } else {\n                                target[targetedPropName] = targetValue;\n                            }\n                        }\n                    };\n                } else if (fieldBuilderData.methName) {\n                    fieldBuilderData.invoke = function (el) {\n                        var target = el.querySelector(data.selector);\n                        if ((0, _utilsJs.isFunction)(target[targetedMethName])) {\n                            var args = (0, _utilsJs.toArray)(arguments);\n                            args.shift();\n                            return target[targetedMethName].apply(target, args);\n                        }\n                    };\n                }\n\n                this.fieldBuilder.build(proto, on);\n            }\n        }]);\n\n        return DelegateBuilder;\n    })(_BuilderJs.Builder);\n\n    exports.DelegateBuilder = DelegateBuilder;\n});\n\n},{\"../utils.js\":10,\"./AttributeBuilder.js\":1,\"./Builder.js\":2}],5:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js', './Builder.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'), require('./Builder.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils, global.Builder);\n        global.MethodBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs, _BuilderJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * The method builder.\n     * Its goal is to provide a way to define a method.\n     * @extends {Builder}\n     */\n\n    var MethodBuilder = (function (_Builder) {\n        _inherits(MethodBuilder, _Builder);\n\n        /**\n         * @param {!string} methName the name of the method\n         */\n\n        function MethodBuilder(methName) {\n            _classCallCheck(this, MethodBuilder);\n\n            _get(Object.getPrototypeOf(MethodBuilder.prototype), 'constructor', this).call(this);\n            /**\n             * @ignore\n             */\n            this.data = { methName: methName, wrappers: [] };\n        }\n\n        /**\n         * To do something when invoked.\n         * @param {!function(el: HTMLElement, args: ...*)} fn the method's logic\n         * @returns {MethodBuilder} the builder\n         */\n\n        _createClass(MethodBuilder, [{\n            key: 'invoke',\n            value: function invoke(fn) {\n                if ((0, _utilsJs.isFunction)(fn)) {\n                    this.data.invoke = fn;\n                }\n                return this;\n            }\n\n            /**\n             * To do something around the invocation.\n             * @param {...function(el: HTMLElement, args: ...*)} wrappers a set of wrappers\n             * @returns {MethodBuilder} the builder\n             */\n        }, {\n            key: 'wrap',\n            value: function wrap() {\n                for (var _len = arguments.length, wrappers = Array(_len), _key = 0; _key < _len; _key++) {\n                    wrappers[_key] = arguments[_key];\n                }\n\n                this.data.wrappers = this.data.wrappers.concat(wrappers);\n                return this;\n            }\n\n            /**\n             * @override\n             */\n        }, {\n            key: 'build',\n            value: function build(proto, on) {\n                var data = this.data;\n\n                if (data.invoke) {\n                    proto[data.methName] = function () {\n                        return data.invoke.apply(this, [this].concat((0, _utilsJs.toArray)(arguments)));\n                    };\n                }\n\n                if (data.wrappers.length) {\n                    on('before:createdCallback').invoke(function (el) {\n                        if ((0, _utilsJs.isFunction)(el[data.methName])) {\n                            (function () {\n                                var lastIndex = data.wrappers.length - 1,\n                                    original = el[data.methName],\n                                    target = function target() {\n                                    var args = (0, _utilsJs.toArray)(arguments);\n                                    args.shift();\n                                    original.apply(el, args);\n                                };\n                                el[data.methName] = data.wrappers.reduce(function (next, current, i, a) {\n                                    if (i === lastIndex) {\n                                        return (0, _utilsJs.bind)((0, _utilsJs.partial)(current, next, el), el);\n                                    }\n                                    return (0, _utilsJs.bind)((0, _utilsJs.partial)(current, next), el);\n                                }, target);\n                            })();\n                        }\n                    });\n                }\n            }\n        }]);\n\n        return MethodBuilder;\n    })(_BuilderJs.Builder);\n\n    exports.MethodBuilder = MethodBuilder;\n});\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],6:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js', './Builder.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'), require('./Builder.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils, global.Builder);\n        global.OnBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs, _BuilderJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * The on builder.\n     * Its goal is to provide a way to listen events coming from the custom element.\n     * @extends {Builder}\n     */\n\n    var OnBuilder = (function (_Builder) {\n        _inherits(OnBuilder, _Builder);\n\n        /**\n         * @param {!string} events a list of tuple 'event target' separated by comas, the target is optional\n         */\n\n        function OnBuilder(events) {\n            _classCallCheck(this, OnBuilder);\n\n            _get(Object.getPrototypeOf(OnBuilder.prototype), 'constructor', this).call(this);\n            /**\n             * @ignore\n             */\n            this.data = { events: events, invoke: _utilsJs.noop };\n        }\n\n        /**\n         * To do something when events occurred.\n         * The target argument is by default the custom element.\n         * When the delegate feature is used, target is the matched element.\n         * @param {!function(el: HTMLElement, evt: DOMEvent, target: HTMLElement)} fn the event's logic\n         * @returns {OnBuilder} the builder\n         */\n\n        _createClass(OnBuilder, [{\n            key: 'invoke',\n            value: function invoke(fn) {\n                if ((0, _utilsJs.isFunction)(fn)) {\n                    this.data.invoke = fn;\n                }\n                return this;\n            }\n\n            /**\n             * To attach the event on the capture phase insteadof of on the bubble phase.\n             * @returns {OnBuilder} the builder\n             */\n        }, {\n            key: 'capture',\n            value: function capture() {\n                this.data.capture = true;\n                return this;\n            }\n\n            /**\n             * To delegate the event.\n             * @param {!string} selector the selector\n             * @returns {OnBuilder} the builder\n             */\n        }, {\n            key: 'delegate',\n            value: function delegate(selector) {\n                this.data.selector = selector;\n                return this;\n            }\n\n            /**\n             * To prevent the default behavior.\n             * @returns {OnBuilder} the builder\n             */\n        }, {\n            key: 'prevent',\n            value: function prevent() {\n                this.data.preventDefault = true;\n                return this;\n            }\n\n            /**\n             * To stop the event propagation.\n             * @returns {OnBuilder} the builder\n             */\n        }, {\n            key: 'stop',\n            value: function stop() {\n                this.data.stopPropagation = true;\n                return this;\n            }\n\n            /**\n             * To prevent the default behavior and to stop the event propagation.\n             * @returns {OnBuilder} the builder\n             */\n        }, {\n            key: 'skip',\n            value: function skip() {\n                return this.prevent().stop();\n            }\n\n            /**\n             * @ignore\n             */\n        }, {\n            key: 'build',\n            value: function build(proto, on) {\n                var events = this.data.events.split(',').map(function (event) {\n                    return event.trim().split(' ');\n                }),\n                    capture = !!this.data.capture,\n                    invoke = this.data.invoke,\n                    selector = this.data.selector,\n                    stopPropagation = this.data.stopPropagation,\n                    preventDefault = this.data.preventDefault;\n\n                on('before:createdCallback').invoke(function (el) {\n                    el._cebOnHandlers = [];\n                });\n\n                on('before:attachedCallback').invoke(function (el) {\n                    var listener = function listener(evt) {\n                        if (selector) {\n                            var target = (0, _utilsJs.find)((0, _utilsJs.toArray)(el.querySelectorAll(selector)), function (el) {\n                                return el === evt.target || el.contains(evt.target);\n                            });\n                            if (target) {\n                                if (stopPropagation) {\n                                    evt.stopPropagation();\n                                }\n                                if (preventDefault) {\n                                    evt.preventDefault();\n                                }\n                                invoke(el, evt, target);\n                            }\n                        } else {\n                            if (stopPropagation) {\n                                evt.stopPropagation();\n                            }\n                            if (preventDefault) {\n                                evt.preventDefault();\n                            }\n                            invoke(el, evt, el);\n                        }\n                    };\n\n                    el._cebOnHandlers = events.map(function (_ref) {\n                        var _ref2 = _slicedToArray(_ref, 2);\n\n                        var name = _ref2[0];\n                        var target = _ref2[1];\n                        return [name, target ? el.querySelector(target) : el];\n                    }).filter(function (_ref3) {\n                        var _ref32 = _slicedToArray(_ref3, 2);\n\n                        var name = _ref32[0];\n                        var target = _ref32[1];\n                        return !!target;\n                    }).map(function (_ref4) {\n                        var _ref42 = _slicedToArray(_ref4, 2);\n\n                        var name = _ref42[0];\n                        var target = _ref42[1];\n\n                        target.addEventListener(name, listener, capture);\n                        return [target, name, listener, capture];\n                    });\n\n                    el._cebOnHandlers.forEach(function (_ref5) {\n                        var _ref52 = _slicedToArray(_ref5, 4);\n\n                        var target = _ref52[0];\n                        var name = _ref52[1];\n                        var listener = _ref52[2];\n                        var capture = _ref52[3];\n                        return target.addEventListener(name, listener, capture);\n                    });\n                });\n\n                on('before:detachedCallback').invoke(function (el) {\n                    el._cebOnHandlers.forEach(function (_ref6) {\n                        var _ref62 = _slicedToArray(_ref6, 4);\n\n                        var target = _ref62[0];\n                        var name = _ref62[1];\n                        var listener = _ref62[2];\n                        var capture = _ref62[3];\n                        return target.removeEventListener(name, listener, capture);\n                    });\n                });\n            }\n        }]);\n\n        return OnBuilder;\n    })(_BuilderJs.Builder);\n\n    exports.OnBuilder = OnBuilder;\n});\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],7:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', './Builder.js', '../utils.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('./Builder.js'), require('../utils.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.Builder, global.utils);\n        global.PropertyBuilder = mod.exports;\n    }\n})(this, function (exports, _BuilderJs, _utilsJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var DEFAULT_DATA = {\n        enumerable: true,\n        immutable: false,\n        descriptorValue: true\n    };\n\n    /**\n     * The property builder.\n     * Its goal is to provide a way to define a property.\n     * @extends {Builder}\n     */\n\n    var PropertyBuilder = (function (_Builder) {\n        _inherits(PropertyBuilder, _Builder);\n\n        /**\n         * @param {!string} propName the name of the property\n         */\n\n        function PropertyBuilder(propName) {\n            _classCallCheck(this, PropertyBuilder);\n\n            _get(Object.getPrototypeOf(PropertyBuilder.prototype), 'constructor', this).call(this);\n            /**\n             * @ignore\n             */\n            this.data = (0, _utilsJs.assign)({ propName: propName }, DEFAULT_DATA);\n        }\n\n        /**\n         * To make an immutable property.\n         * @returns {PropertyBuilder} the builder\n         */\n\n        _createClass(PropertyBuilder, [{\n            key: 'immutable',\n            value: function immutable() {\n                this.data.immutable = true;\n                return this;\n            }\n\n            /**\n             * To hide the property name when using <code>Object.keys()</code>.\n             * @returns {PropertyBuilder} the builder\n             */\n        }, {\n            key: 'hidden',\n            value: function hidden() {\n                this.data.enumerable = false;\n                return this;\n            }\n\n            /**\n             * To set a default value.\n             * @param {*} value the default value\n             * @returns {PropertyBuilder} the builder\n             */\n        }, {\n            key: 'value',\n            value: function value(_value) {\n                this.data.value = _value;\n                return this;\n            }\n\n            /**\n             * To set a getter function.\n             * @param {function(el: HTMLElement): *} fn the getter function\n             * @returns {PropertyBuilder} the builder\n             */\n        }, {\n            key: 'getter',\n            value: function getter(fn) {\n                this.data.descriptorValue = false;\n                this.data.getter = fn;\n                return this;\n            }\n\n            /**\n             * To set a setter function.\n             * @param {function(el: HTMLElement, value: *)} fn the setter function\n             * @returns {PropertyBuilder} the builder\n             */\n        }, {\n            key: 'setter',\n            value: function setter(fn) {\n                this.data.descriptorValue = false;\n                this.data.setter = fn;\n                return this;\n            }\n\n            /**\n             * @ignore\n             */\n        }, {\n            key: 'build',\n            value: function build(proto, on) {\n                var _this = this;\n\n                var data = this.data,\n                    defaultValue = (0, _utilsJs.result)(this.data, 'value'),\n                    descriptor = {\n                    enumerable: this.data.enumerable\n                };\n\n                if (this.data.immutable) {\n                    descriptor.configurable = false;\n                    descriptor.writable = false;\n                } else if ((0, _utilsJs.isFunction)(this.data.getter) || (0, _utilsJs.isFunction)(this.data.setter)) {\n                    descriptor.configurable = false;\n                    descriptor.get = function () {\n                        return data.getter.call(this, this);\n                    };\n                    descriptor.set = function (value) {\n                        return data.setter.call(this, this, value);\n                    };\n                } else {\n                    descriptor.configurable = true;\n                    descriptor.writable = true;\n                }\n\n                if (this.data.descriptorValue) {\n                    descriptor.value = defaultValue;\n                }\n\n                Object.defineProperty(proto, this.data.propName, descriptor);\n\n                on('after:createdCallback').invoke(function (el) {\n                    if (!_this.data.descriptorValue && !(0, _utilsJs.isUndefined)(defaultValue)) {\n                        el[data.propName] = defaultValue;\n                    }\n                });\n            }\n        }]);\n\n        return PropertyBuilder;\n    })(_BuilderJs.Builder);\n\n    exports.PropertyBuilder = PropertyBuilder;\n});\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],8:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports', '../utils.js', './Builder.js', './PropertyBuilder.js'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports, require('../utils.js'), require('./Builder.js'), require('./PropertyBuilder.js'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.utils, global.Builder, global.PropertyBuilder);\n        global.TemplateBuilder = mod.exports;\n    }\n})(this, function (exports, _utilsJs, _BuilderJs, _PropertyBuilderJs) {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    exports.applyTemplate = applyTemplate;\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * The counter is used to generate unique DOM's id.\n     * @type {number}\n     */\n    var counter = 0;\n\n    /**\n     * The attribute name hosting the old light node id.\n     * @type {string}\n     */\n    var OLD_CONTENT_ID_ATTR_NAME = 'ceb-old-content-id';\n\n    /**\n     * Regex to detect the *ceb-content* attributes.\n     * @type {RegExp}\n     */\n    var CONTENT_ATTR_REG_EX = /ceb\\-content/im;\n\n    /**\n     * Regex to detect the *content* element.\n     * @type {RegExp}\n     */\n    var CONTENT_NODE_REG_EX = /<content><\\/content>/im;\n\n    /**\n     * @param {!string} html the HTML template\n     * @returns {boolean} true if the HTML template handle a light DOM node\n     */\n    function hasContent(html) {\n        return html.search(CONTENT_ATTR_REG_EX) !== -1 || html.search(CONTENT_NODE_REG_EX) !== -1;\n    }\n\n    /**\n     * Update or replace an eventual content flag according to the given id.\n     * @param {!string} html the HTML template\n     * @param {!string} newCebContentId the new content node id\n     * @returns {string} the updated HTML template\n     */\n    function replaceContent(html, newCebContentId) {\n        return html.replace('<content></content>', '<ceb-lightdom ceb-content></ceb-lightdom>').replace('ceb-content', newCebContentId);\n    }\n\n    /**\n     * Try to find a light DOM node\n     * @param {!HTMLElement} el the custom element\n     * @returns {HTMLElement} the light DOM node if found otherwise it's the given HTML Element\n     */\n    function findContentNode(el) {\n        if (!el) {\n            return;\n        }\n        var oldCebContentId = el.getAttribute(OLD_CONTENT_ID_ATTR_NAME);\n        if (oldCebContentId) {\n            return findContentNode(el.querySelector('[' + oldCebContentId + ']')) || el;\n        }\n        return el;\n    }\n\n    /**\n     * Remove and return the children of the light DOM node.\n     * @param {!HTMLElement} el the custom element\n     * @returns {DocumentFragment} the light DOM fragment\n     */\n    function cleanOldContentNode(el) {\n        var oldContentNode = el.lightDom,\n            lightFrag = document.createDocumentFragment();\n        while (oldContentNode.childNodes.length > 0) {\n            lightFrag.appendChild(oldContentNode.removeChild(oldContentNode.childNodes[0]));\n        }\n        return lightFrag;\n    }\n\n    /**\n     * Add the given DOM nodes list to the given element.\n     * @param {!HTMLElement} el the custom element\n     * @param {DocumentFragment} lightFrag the light DOM fragment\n     */\n    function fillNewContentNode(el, lightFrag) {\n        el.lightDom.appendChild(lightFrag);\n    }\n\n    /**\n     * Apply the template given by the property cebTemplate.\n     * @param {!HTMLElement} el the custom element\n     * @param {!string} tpl the template\n     */\n\n    function applyTemplate(el, tpl) {\n        var lightFrag = [],\n            handleContentNode = hasContent(tpl);\n\n        if (handleContentNode) {\n            var newCebContentId = 'ceb-content-' + counter++;\n            lightFrag = cleanOldContentNode(el);\n\n            tpl = replaceContent(tpl, newCebContentId);\n\n            el.setAttribute(OLD_CONTENT_ID_ATTR_NAME, newCebContentId);\n        }\n\n        el.innerHTML = tpl;\n\n        if (handleContentNode) {\n            fillNewContentNode(el, lightFrag);\n        }\n    }\n\n    /**\n     * The template builder.\n     * Its goal is to provide a way to fill the content of a custom element.\n     * @extends {Builder}\n     */\n\n    var TemplateBuilder = (function (_Builder) {\n        _inherits(TemplateBuilder, _Builder);\n\n        /**\n         * @param {!string|function(el: HTMLElement)} tpl the template as a string or a function\n         */\n\n        function TemplateBuilder(tpl) {\n            _classCallCheck(this, TemplateBuilder);\n\n            _get(Object.getPrototypeOf(TemplateBuilder.prototype), 'constructor', this).call(this);\n            /**\n             * @ignore\n             */\n            this.data = { tpl: tpl };\n        }\n\n        /**\n         * @ignore\n         */\n\n        _createClass(TemplateBuilder, [{\n            key: 'build',\n            value: function build(proto, on) {\n                var data = this.data;\n\n                new _PropertyBuilderJs.PropertyBuilder('lightDom').getter(function (el) {\n                    return findContentNode(el);\n                }).build(proto, on);\n\n                on('before:createdCallback').invoke(function (el) {\n                    applyTemplate(el, (0, _utilsJs.isFunction)(data.tpl) ? data.tpl(el) : data.tpl);\n                });\n            }\n        }]);\n\n        return TemplateBuilder;\n    })(_BuilderJs.Builder);\n\n    exports.TemplateBuilder = TemplateBuilder;\n});\n\n},{\"../utils.js\":10,\"./Builder.js\":2,\"./PropertyBuilder.js\":7}],9:[function(require,module,exports){\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', './builder/CustomElementBuilder.js', './builder/PropertyBuilder.js', './builder/AttributeBuilder.js', './builder/DelegateBuilder.js', './builder/MethodBuilder.js', './builder/TemplateBuilder.js', './builder/OnBuilder.js', './builder/Builder.js'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports, require('./builder/CustomElementBuilder.js'), require('./builder/PropertyBuilder.js'), require('./builder/AttributeBuilder.js'), require('./builder/DelegateBuilder.js'), require('./builder/MethodBuilder.js'), require('./builder/TemplateBuilder.js'), require('./builder/OnBuilder.js'), require('./builder/Builder.js'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.CustomElementBuilder, global.PropertyBuilder, global.AttributeBuilder, global.DelegateBuilder, global.MethodBuilder, global.TemplateBuilder, global.OnBuilder, global.Builder);\n    global.ceb = mod.exports;\n  }\n})(this, function (exports, _builderCustomElementBuilderJs, _builderPropertyBuilderJs, _builderAttributeBuilderJs, _builderDelegateBuilderJs, _builderMethodBuilderJs, _builderTemplateBuilderJs, _builderOnBuilderJs, _builderBuilderJs) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.ceb = ceb;\n  exports.property = property;\n  exports.attribute = attribute;\n  exports.method = method;\n  exports.delegate = delegate;\n  exports.template = template;\n  exports.on = on;\n\n  /**\n   * The base builder type\n   * @type {Builder} the builder\n   */\n  var Builder = _builderBuilderJs.Builder;\n\n  exports.Builder = Builder;\n  /**\n   * Get a new custom element builder.\n   * @returns {CustomElementBuilder} the custom element builder\n   */\n\n  function ceb() {\n    return new _builderCustomElementBuilderJs.CustomElementBuilder();\n  }\n\n  /**\n   * Get a new property builder.\n   * @param {!string} propName the name of the property\n   * @returns {PropertyBuilder} the property builder\n   */\n\n  function property(propName) {\n    return new _builderPropertyBuilderJs.PropertyBuilder(propName);\n  }\n\n  /**\n   * Get a new attribute builder.\n   * @param {!string} attrName the name of the attribute\n   * @returns {AttributeBuilder} the attribute builder\n   */\n\n  function attribute(attrName) {\n    return new _builderAttributeBuilderJs.AttributeBuilder(attrName);\n  }\n\n  attribute.getAttValue = _builderAttributeBuilderJs.getAttValue;\n  attribute.setAttValue = _builderAttributeBuilderJs.setAttValue;\n\n  /**\n   * Get a new method builder.\n   * @param {!string} methName the name of the method\n   * @returns {MethodBuilder} the method builder\n   */\n\n  function method(methName) {\n    return new _builderMethodBuilderJs.MethodBuilder(methName);\n  }\n\n  /**\n   * Get a new delegate builder.\n   * @param {!PropertyBuilder|AttributeBuilder|MethodBuilder} builder a property, attribute or method builder\n   * @returns {DelegateBuilder} the delegate builder\n   */\n\n  function delegate(builder) {\n    return new _builderDelegateBuilderJs.DelegateBuilder(builder);\n  }\n\n  /**\n   * Get a new template builder.\n   * @param {!string|Function} tpl the string or function template\n   * @returns {TemplateBuilder} the template builder\n   */\n\n  function template(tpl) {\n    return new _builderTemplateBuilderJs.TemplateBuilder(tpl);\n  }\n\n  template.applyTemplate = _builderTemplateBuilderJs.applyTemplate;\n\n  /**\n   * Get a new on builder.\n   * @param {!string} events a list of tuple 'event target' separated by comas, the target is optional\n   * @returns {OnBuilder} the on builder\n   */\n\n  function on(events) {\n    return new _builderOnBuilderJs.OnBuilder(events);\n  }\n});\n\n},{\"./builder/AttributeBuilder.js\":1,\"./builder/Builder.js\":2,\"./builder/CustomElementBuilder.js\":3,\"./builder/DelegateBuilder.js\":4,\"./builder/MethodBuilder.js\":5,\"./builder/OnBuilder.js\":6,\"./builder/PropertyBuilder.js\":7,\"./builder/TemplateBuilder.js\":8}],10:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if (typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports);\n        global.utils = mod.exports;\n    }\n})(this, function (exports) {\n    /**\n     * @ignore\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n    exports.camelCase = camelCase;\n    exports.isFunction = isFunction;\n    exports.isUndefined = isUndefined;\n    exports.isNull = isNull;\n    exports.isString = isString;\n    exports.isArray = isArray;\n    exports.result = result;\n    exports.assign = assign;\n    exports.toArray = toArray;\n    exports.flatten = flatten;\n    exports.invoke = invoke;\n    exports.partial = partial;\n    exports.bind = bind;\n    exports.noop = noop;\n    exports.wrap = wrap;\n    exports.find = find;\n    exports.trigger = trigger;\n\n    function camelCase(value) {\n        return value.toLowerCase().split('-').map(function (part, index) {\n            return index ? part.charAt(0).toUpperCase() + part.slice(1) : part;\n        }).join('');\n    }\n\n    /**\n     * @ignore\n     */\n\n    function isFunction(i) {\n        return Object.prototype.toString.call(i) === '[object Function]';\n    }\n\n    /**\n     * @ignore\n     */\n\n    function isUndefined(i) {\n        return i === undefined;\n    }\n\n    /**\n     * @ignore\n     */\n\n    function isNull(i) {\n        return i === null;\n    }\n\n    /**\n     * @ignore\n     */\n\n    function isString(i) {\n        return Object.prototype.toString.call(i) === '[object String]';\n    }\n\n    /**\n     * @ignore\n     */\n\n    function isArray(i) {\n        return Object.prototype.toString.call(i) === '[object Array]';\n    }\n\n    /**\n     * @ignore\n     */\n\n    function result(obj, prop) {\n        var value = obj[prop];\n        return isFunction(value) ? value() : value;\n    }\n\n    /**\n     * @ignore\n     */\n\n    function assign() {\n        return Array.prototype.reduce.call(arguments, function (target, source) {\n            return Object.keys(Object(source)).reduce(function (target, key) {\n                target[key] = source[key];\n                return target;\n            }, target);\n        });\n    }\n\n    /**\n     * @ignore\n     */\n\n    function toArray(i) {\n        return Array.prototype.slice.call(i);\n    }\n\n    /**\n     * @ignore\n     */\n\n    function flatten(array) {\n        return array.reduce(function (a, b) {\n            return isArray(b) ? a.concat(flatten(b)) : a.concat(b);\n        }, []);\n    }\n\n    /**\n     * @ignore\n     */\n\n    function invoke() {\n        var args = toArray(arguments),\n            objects = args.shift(),\n            meth = args.shift();\n        if (isArray(objects)) {\n            objects.filter(function (obj) {\n                return isFunction(obj[meth]);\n            }).forEach(function (obj) {\n                return obj[meth].apply(obj, args);\n            });\n        }\n    }\n\n    /**\n     * @ignore\n     */\n\n    function partial() {\n        var args = toArray(arguments),\n            fn = args.shift();\n        return function () {\n            return fn.apply(this, args.concat(toArray(arguments)));\n        };\n    }\n\n    /**\n     * @ignore\n     */\n\n    function bind(fn, ctx) {\n        return function () {\n            return fn.apply(ctx, toArray(arguments));\n        };\n    }\n\n    /**\n     * @ignore\n     */\n\n    function noop() {\n        return function () {};\n    }\n\n    /**\n     * @ignore\n     */\n\n    function wrap(fn, wrapper) {\n        return partial(wrapper, fn);\n    }\n\n    /**\n     * @ignore\n     */\n\n    function find(array, cb) {\n        return array.filter(cb)[0];\n    }\n\n    /**\n     * @ignore\n     */\n\n    function trigger(el, event, params) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancellable, params.detail);\n        return el.dispatchEvent(evt);\n    }\n});\n\n},{}]},{},[9])(9)\n});"],"sourceRoot":"/source/"}