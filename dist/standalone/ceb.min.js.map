{"version":3,"sources":["ceb.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ceb","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getAttValue","el","attrName","isBoolean","hasAttribute","getAttribute","setAttValue","setAttribute","removeAttribute","_utils","isUndefined","isNull","getterFactory","setterFactory","attSetter","attValue","isFunction","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","AttributeBuilder","undefined","_Builder2","DEFAULT_DATA","bound","_Builder","_this","getPrototypeOf","data","assign","propName","camelCase","listeners","_value","listener","push","proto","on","_this2","defaultValue","result","get","set","invoke","attrValue","oldValue","setValue","forEach","attName","oldVal","newVal","newValue","Builder","../utils.js","./Builder.js",2,3,"applyLifecycle","context","name","original","beforeFns","events","afterFns","args","concat","toArray","arguments","fn","apply","CustomElementBuilder","LIFECYCLE_CALLBACKS","LIFECYCLE_EVENTS","flatten","map","HTMLElement","builders","reduce","b","before:builders","after:builders","before:registerElement","after:registerElement","extend","_len","_builders","Array","_key","builder","event","_this3","cb","_this4","bind","partial","options","isString","CustomElement","document","registerElement",4,"DelegateBuilder","_AttributeBuilder","fieldBuilder","methName","selector","fieldBuilderData","targetedPropName","targetedMethName","targetedAttrName","fieldGetter","getter","fieldSetter","setter","querySelector","descriptorValue","targetValue","shift","build","./AttributeBuilder.js",5,"MethodBuilder","wrappers","lastIndex","next","current","index",6,"_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","isArray","OnBuilder","noop","capture","preventDefault","stopPropagation","prevent","stop","split","trim","_cebOnHandlers","evt","find","querySelectorAll","contains","_ref","_ref2","filter","_ref3","_ref4","_ref5","_ref6","addEventListener","_ref7","_ref8","_ref9","_ref10","removeEventListener",7,"PropertyBuilder","immutable",8,"hasContent","html","search","CONTENT_ATTR_REG_EX","CONTENT_NODE_REG_EX","replaceContent","newCebContentId","replace","findContentNode","oldCebContentId","OLD_CONTENT_ID_ATTR_NAME","cleanOldContentNode","oldContentNode","lightDom","lightFrag","createDocumentFragment","childNodes","appendChild","removeChild","fillNewContentNode","applyTemplate","tpl","handleContentNode","counter","innerHTML","TemplateBuilder","_PropertyBuilder","./PropertyBuilder.js",9,"_CustomElementBuilder","property","attribute","method","_MethodBuilder","delegate","_DelegateBuilder","template","_TemplateBuilder","_OnBuilder","./builder/AttributeBuilder.js","./builder/Builder.js","./builder/CustomElementBuilder.js","./builder/DelegateBuilder.js","./builder/MethodBuilder.js","./builder/OnBuilder.js","./builder/PropertyBuilder.js","./builder/TemplateBuilder.js",10,"toLowerCase","part","charAt","toUpperCase","slice","join","toString","obj","prop","source","keys","array","objects","meth","ctx"],"mappings":"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","file":"ceb.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ceb = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AttributeBuilder = undefined;\nexports.getAttValue = getAttValue;\nexports.setAttValue = setAttValue;\n\nvar _utils = require('../utils.js');\n\nvar _Builder2 = require('./Builder.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Get the value from an attribute.\n * @param {!HTMLElement} el an HTML element\n * @param {!string} attrName the name of the attribute\n * @param {!boolean} isBoolean true is the returned value should be a boolean\n * @returns {string|boolean}\n */\nfunction getAttValue(el, attrName, isBoolean) {\n    if (isBoolean) {\n        return el.hasAttribute(attrName);\n    }\n    return el.getAttribute(attrName);\n}\n\n/**\n * Set the value of an attribute.\n * @param {!HTMLElement} el an HTML element\n * @param {!string} attrName the name of the attribute\n * @param {!boolean} isBoolean true is the value should be a boolean\n * @param {string|boolean} value the value to set\n */\nfunction setAttValue(el, attrName, isBoolean, value) {\n    if (isBoolean) {\n        // Handle boolean value\n        if (value && !el.hasAttribute(attrName)) {\n            el.setAttribute(attrName, '');\n        } else if (!value && el.hasAttribute(attrName)) {\n            el.removeAttribute(attrName);\n        }\n    } else {\n        // Handle none boolean value\n        if (((0, _utils.isUndefined)(value) || (0, _utils.isNull)(value)) && el.hasAttribute(attrName)) {\n            // There is no value, so the attribute must be removed\n            el.removeAttribute(attrName);\n        } else if (!(0, _utils.isUndefined)(value) && !(0, _utils.isNull)(value) && el.getAttribute(attrName) !== value) {\n            // Sync the attribute value with value\n            el.setAttribute(attrName, value);\n        }\n    }\n}\n\nfunction getterFactory(attrName, isBoolean) {\n    return function () {\n        return getAttValue(this, attrName, isBoolean);\n    };\n}\n\nfunction setterFactory(attrName, isBoolean, attSetter) {\n    return function (value) {\n        var attValue = (0, _utils.isFunction)(attSetter) ? attSetter.call(this, this, value) : value;\n        return setAttValue(this, attrName, isBoolean, attValue);\n    };\n}\n\nvar DEFAULT_DATA = {\n    bound: true,\n    getterFactory: getterFactory,\n    setterFactory: setterFactory,\n    getAttValue: getAttValue,\n    setAttValue: setAttValue\n};\n\n/**\n * The attribute builder.\n * Its goal is to provide a way to define an attribute.\n * @extends {PropertyBuilder}\n */\n\nvar AttributeBuilder = (function (_Builder) {\n    _inherits(AttributeBuilder, _Builder);\n\n    /**\n     * @param {!string} attrName the name of the attribute\n     */\n\n    function AttributeBuilder(attrName) {\n        _classCallCheck(this, AttributeBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AttributeBuilder).call(this));\n\n        _this.data = (0, _utils.assign)({\n            attrName: attrName,\n            propName: (0, _utils.camelCase)(attrName),\n            listeners: []\n        }, DEFAULT_DATA);\n        return _this;\n    }\n\n    /**\n     * To handle the attribute/property value as a boolean:\n     * Attribute is present when true and missing when false.\n     * @returns {AttributeBuilder} the builder\n     */\n\n    _createClass(AttributeBuilder, [{\n        key: 'boolean',\n        value: function boolean() {\n            this.data.boolean = true;\n            return this;\n        }\n\n        /**\n         * To hide the property name when using <code>Object.keys()</code>.\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'hidden',\n        value: function hidden() {\n            this.data.enumerable = false;\n            return this;\n        }\n\n        /**\n         * To skip the link between the attribute and its property\n         * @returns {AttributeBuilder} the builder\n         */\n\n    }, {\n        key: 'unbound',\n        value: function unbound() {\n            this.data.bound = false;\n            return this;\n        }\n\n        /**\n         * To override the property name.\n         * @param {!string} propName the property name\n         * @returns {AttributeBuilder} the builder\n         */\n\n    }, {\n        key: 'property',\n        value: function property(propName) {\n            this.data.propName = propName;\n            return this;\n        }\n\n        /**\n         * To set a default value.\n         * @param {*} value the default value\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'value',\n        value: function value(_value) {\n            this.data.value = _value;\n            return this;\n        }\n\n        /**\n         * To be notified when the attribute is updated.\n         * @param {function(el: HTMLElement, oldVal: string, newVal: string)} listener the listener function\n         * @returns {AttributeBuilder} the builder\n         */\n\n    }, {\n        key: 'listen',\n        value: function listen(listener) {\n            this.data.listeners.push(listener);\n            return this;\n        }\n\n        /**\n         * @override\n         */\n\n    }, {\n        key: 'build',\n        value: function build(proto, on) {\n            var _this2 = this;\n\n            var defaultValue = (0, _utils.result)(this.data, 'value'),\n                descriptor = {\n                enumerable: this.data.enumerable,\n                configurable: false,\n                get: this.data.getterFactory(this.data.attrName, this.data.boolean),\n                set: this.data.setterFactory(this.data.attrName, this.data.boolean)\n            };\n\n            if (this.data.bound) {\n                Object.defineProperty(proto, this.data.propName, descriptor);\n            }\n\n            on('after:createdCallback').invoke(function (el) {\n                if (_this2.data.bound) {\n                    var attrValue = getAttValue(el, _this2.data.attrName, _this2.data.boolean);\n                    if (_this2.data.boolean) {\n                        el[_this2.data.propName] = !!defaultValue ? defaultValue : attrValue;\n                    } else if (!(0, _utils.isNull)(attrValue) && !(0, _utils.isUndefined)(attrValue)) {\n                        el[_this2.data.propName] = attrValue;\n                    } else if (!(0, _utils.isUndefined)(defaultValue)) {\n                        el[_this2.data.propName] = defaultValue;\n                    }\n                }\n                if (_this2.data.listeners.length > 0) {\n                    (function () {\n                        var oldValue = _this2.data.boolean ? false : null;\n                        var setValue = el[_this2.data.propName];\n                        if (oldValue !== setValue) {\n                            _this2.data.listeners.forEach(function (listener) {\n                                return listener.call(el, el, oldValue, setValue);\n                            });\n                        }\n                    })();\n                }\n            });\n\n            on('before:attributeChangedCallback').invoke(function (el, attName, oldVal, newVal) {\n                // Synchronize the attribute value with its properties\n                if (attName === _this2.data.attrName) {\n                    if (_this2.data.bound) {\n                        var newValue = _this2.data.boolean ? newVal === '' : newVal;\n                        if (el[_this2.data.propName] !== newValue) {\n                            el[_this2.data.propName] = newValue;\n                        }\n                    }\n                    if (_this2.data.listeners.length > 0) {\n                        (function () {\n                            var oldValue = _this2.data.boolean ? oldVal === '' : oldVal;\n                            var setValue = _this2.data.boolean ? newVal === '' : newVal;\n                            if (oldValue !== setValue) {\n                                _this2.data.listeners.forEach(function (listener) {\n                                    return listener.call(el, el, oldValue, setValue);\n                                });\n                            }\n                        })();\n                    }\n                }\n            });\n        }\n    }]);\n\n    return AttributeBuilder;\n})(_Builder2.Builder);\n\nexports.AttributeBuilder = AttributeBuilder;\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * A builder is defined by a build method.\n * @abstract\n */\n\nvar Builder = exports.Builder = (function () {\n  function Builder() {\n    _classCallCheck(this, Builder);\n  }\n\n  _createClass(Builder, [{\n    key: 'build',\n\n    /**\n     * To specify the logic of the builder.\n     * @param {!CustomElementBuilder.context.proto} proto the prototype\n     * @param {!CustomElementBuilder.on} on the method on\n     */\n    value: function build() {\n      throw new Error('not implemented');\n    }\n  }]);\n\n  return Builder;\n})();\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CustomElementBuilder = undefined;\n\nvar _utils = require('../utils.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LIFECYCLE_CALLBACKS = ['createdCallback', 'attachedCallback', 'detachedCallback', 'attributeChangedCallback'];\n\nvar LIFECYCLE_EVENTS = (0, _utils.flatten)(LIFECYCLE_CALLBACKS.map(function (name) {\n    return ['before:' + name, 'after:' + name];\n}));\n\nfunction applyLifecycle(context, name) {\n    var proto = context.proto,\n        original = proto[name],\n        beforeFns = context.events['before:' + name],\n        afterFns = context.events['after:' + name];\n\n    proto[name] = function () {\n        var _this = this;\n\n        var args = [this].concat((0, _utils.toArray)(arguments));\n\n        beforeFns.forEach(function (fn) {\n            return fn.apply(_this, args);\n        });\n\n        if ((0, _utils.isFunction)(original)) {\n            original.apply(this, args);\n        }\n\n        afterFns.forEach(function (fn) {\n            return fn.apply(_this, args);\n        });\n    };\n}\n\n/**\n * The custom element builder.\n * Its goal is to provide a user friendly way to do it by some else (i.e. dedicated builders).\n */\n\nvar CustomElementBuilder = (function () {\n\n    /**\n     */\n\n    function CustomElementBuilder() {\n        _classCallCheck(this, CustomElementBuilder);\n\n        var proto = Object.create(HTMLElement.prototype),\n            builders = [],\n            events = LIFECYCLE_EVENTS.reduce(function (a, b) {\n            a[b] = [];\n            return a;\n        }, {\n            'before:builders': [],\n            'after:builders': [],\n            'before:registerElement': [],\n            'after:registerElement': []\n        });\n        /**\n         * @type {Object}\n         * @property {!Object} proto - the prototype\n         * @property {!string} extends - the name of a native element\n         * @desc the context of the builder\n         */\n        this.context = { proto: proto, builders: builders, events: events };\n    }\n\n    /**\n     * To extend a native element.\n     * @param {!string} value the name of the element\n     * @returns {CustomElementBuilder} the builder\n     */\n\n    _createClass(CustomElementBuilder, [{\n        key: 'extend',\n        value: function extend(value) {\n            this.context.extend = value;\n            return this;\n        }\n\n        /**\n         * To override the default prototype.\n         * @param {!Object} value the prototype\n         * @returns {CustomElementBuilder} the builder\n         */\n\n    }, {\n        key: 'proto',\n        value: function proto(value) {\n            this.context.proto = value;\n            return this;\n        }\n\n        /**\n         * To apply the given builders during the build process.\n         * @param {...Builder} builders the builders\n         * @returns {CustomElementBuilder} the builder\n         */\n\n    }, {\n        key: 'builders',\n        value: function builders() {\n            var _this2 = this;\n\n            for (var _len = arguments.length, _builders = Array(_len), _key = 0; _key < _len; _key++) {\n                _builders[_key] = arguments[_key];\n            }\n\n            _builders.forEach(function (builder) {\n                return _this2.context.builders.push(builder);\n            });\n            return this;\n        }\n\n        /**\n         * To register call back on events.\n         * @param {!string} event the event name\n         * @returns {Object} the on builder.\n         * @property {function(callback: function)} invoke - to register the callback\n         */\n\n    }, {\n        key: 'on',\n        value: function on(event) {\n            var _this3 = this;\n\n            var invoke = function invoke(cb) {\n                _this3.context.events[event].push(cb);\n                return _this3;\n            };\n            return { invoke: invoke };\n        }\n\n        /**\n         * To register the custom element.\n         * @param {!string} name the name of the cutsom element\n         * @returns {Element} the custom element Type\n         */\n\n    }, {\n        key: 'register',\n        value: function register(name) {\n            var _this4 = this;\n\n            this.context.events['before:builders'].forEach(function (fn) {\n                return fn(_this4.context);\n            });\n\n            (0, _utils.invoke)(this.context.builders, 'build', this.context.proto, (0, _utils.bind)(this.on, this));\n\n            this.context.events['after:builders'].forEach(function (fn) {\n                return fn(_this4.context);\n            });\n\n            LIFECYCLE_CALLBACKS.forEach((0, _utils.partial)(applyLifecycle, this.context));\n\n            var options = { prototype: this.context.proto };\n\n            if ((0, _utils.isString)(this.context.extend)) {\n                options.extends = this.context.extend;\n            }\n\n            this.context.events['before:registerElement'].forEach(function (fn) {\n                return fn(_this4.context);\n            });\n\n            var CustomElement = document.registerElement(name, options);\n\n            this.context.events['after:registerElement'].forEach(function (fn) {\n                return fn(CustomElement);\n            });\n\n            return CustomElement;\n        }\n    }]);\n\n    return CustomElementBuilder;\n})();\n\nexports.CustomElementBuilder = CustomElementBuilder;\n\n},{\"../utils.js\":10}],4:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DelegateBuilder = undefined;\n\nvar _utils = require('../utils.js');\n\nvar _AttributeBuilder = require('./AttributeBuilder.js');\n\nvar _Builder2 = require('./Builder.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The delegate builder.\n * Its goal is to provide a way to delegate methods, properties and attributes.\n * @extends {Builder}\n */\n\nvar DelegateBuilder = exports.DelegateBuilder = (function (_Builder) {\n    _inherits(DelegateBuilder, _Builder);\n\n    /**\n     * @param {!PropertyBuilder|AttributeBuilder|MethodBuilder} fieldBuilder the field builder\n     */\n\n    function DelegateBuilder(fieldBuilder) {\n        _classCallCheck(this, DelegateBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DelegateBuilder).call(this));\n\n        _this.fieldBuilder = fieldBuilder;\n        /**\n         * @ignore\n         */\n        _this.data = {};\n        if (fieldBuilder.data.attrName) {\n            _this.data.attrName = fieldBuilder.data.attrName;\n        } else if (_this.fieldBuilder.data.propName) {\n            _this.data.propName = fieldBuilder.data.propName;\n        } else if (_this.fieldBuilder.data.methName) {\n            _this.data.methName = fieldBuilder.data.methName;\n        }\n        return _this;\n    }\n\n    /**\n     * The target of the delegate.\n     * @param {!string} selector a valid css query\n     * @returns {DelegateBuilder} the builder\n     */\n\n    _createClass(DelegateBuilder, [{\n        key: 'to',\n        value: function to(selector) {\n            this.data.selector = selector;\n            return this;\n        }\n\n        /**\n         * To force the delegation to a property.\n         * @param {string} [propName] the name of the property\n         * @returns {DelegateBuilder} the builder\n         */\n\n    }, {\n        key: 'property',\n        value: function property(propName) {\n            this.data.attrName = null;\n            if (!(0, _utils.isUndefined)(propName)) {\n                this.data.propName = propName;\n            } else {\n                this.data.propName = this.fieldBuilder.data.propName;\n            }\n            return this;\n        }\n\n        /**\n         * To force the delegation to an attribute.\n         * @param {string} [attrName] the name of the attribute\n         * @returns {DelegateBuilder} the builder\n         */\n\n    }, {\n        key: 'attribute',\n        value: function attribute(attrName) {\n            this.data.propName = null;\n            if (!(0, _utils.isUndefined)(attrName)) {\n                this.data.attrName = attrName;\n            } else {\n                this.data.attrName = this.fieldBuilder.data.attrName || this.fieldBuilder.data.propName;\n            }\n            return this;\n        }\n\n        /**\n         * To force the delegation to a method.\n         * @param {string} [methName] the name of the method\n         * @returns {DelegateBuilder} the builder\n         */\n\n    }, {\n        key: 'method',\n        value: function method(methName) {\n            this.data.methName = null;\n            if (!(0, _utils.isUndefined)(methName)) {\n                this.data.methName = methName;\n            } else {\n                this.data.methName = this.fieldBuilder.data.methName;\n            }\n            return this;\n        }\n\n        /**\n         * @override\n         */\n\n    }, {\n        key: 'build',\n        value: function build(proto, on) {\n            var data = this.data,\n                fieldBuilderData = this.fieldBuilder.data,\n                targetedPropName = this.data.propName,\n                targetedMethName = this.data.methName,\n                targetedAttrName = this.data.attrName,\n                fieldGetter = fieldBuilderData.getter,\n                fieldSetter = fieldBuilderData.setter;\n\n            if (fieldBuilderData.attrName) {\n                fieldBuilderData.getterFactory = function (attrName, isBoolean) {\n                    return function () {\n                        var target = this.querySelector(data.selector);\n                        if (target) {\n                            return targetedAttrName ? (0, _AttributeBuilder.getAttValue)(target, targetedAttrName, isBoolean) : target[targetedPropName];\n                        }\n                    };\n                };\n                fieldBuilderData.setterFactory = function (attrName, isBoolean) {\n                    return function (value) {\n                        var target = this.querySelector(data.selector),\n                            attrValue = value;\n                        if (target) {\n                            if (targetedAttrName) {\n                                (0, _AttributeBuilder.setAttValue)(target, targetedAttrName, isBoolean, attrValue);\n                            } else {\n                                target[targetedPropName] = attrValue;\n                            }\n                            (0, _AttributeBuilder.setAttValue)(this, attrName, isBoolean, attrValue);\n                        }\n                    };\n                };\n            } else if (fieldBuilderData.propName) {\n                fieldBuilderData.descriptorValue = false;\n                fieldBuilderData.getter = function (el) {\n                    var target = el.querySelector(data.selector),\n                        targetValue = undefined;\n                    if (target) {\n                        if (targetedAttrName) {\n                            targetValue = target.getAttribute(targetedAttrName);\n                        } else {\n                            targetValue = target[targetedPropName];\n                        }\n                    }\n                    return (0, _utils.isFunction)(fieldGetter) ? fieldGetter.call(el, el, targetValue) : targetValue;\n                };\n                fieldBuilderData.setter = function (el, value) {\n                    var target = el.querySelector(data.selector),\n                        targetValue = (0, _utils.isFunction)(fieldSetter) ? fieldSetter.call(el, el, value) : value;\n                    if (target) {\n                        if (targetedAttrName) {\n                            target.setAttribute(targetedAttrName, targetValue);\n                        } else {\n                            target[targetedPropName] = targetValue;\n                        }\n                    }\n                };\n            } else if (fieldBuilderData.methName) {\n                fieldBuilderData.invoke = function (el) {\n                    var target = el.querySelector(data.selector);\n                    if ((0, _utils.isFunction)(target[targetedMethName])) {\n                        var args = (0, _utils.toArray)(arguments);\n                        args.shift();\n                        return target[targetedMethName].apply(target, args);\n                    }\n                };\n            }\n\n            this.fieldBuilder.build(proto, on);\n        }\n    }]);\n\n    return DelegateBuilder;\n})(_Builder2.Builder);\n\n},{\"../utils.js\":10,\"./AttributeBuilder.js\":1,\"./Builder.js\":2}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.MethodBuilder = undefined;\n\nvar _utils = require('../utils.js');\n\nvar _Builder2 = require('./Builder.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The method builder.\n * Its goal is to provide a way to define a method.\n * @extends {Builder}\n */\n\nvar MethodBuilder = exports.MethodBuilder = (function (_Builder) {\n    _inherits(MethodBuilder, _Builder);\n\n    /**\n     * @param {!string} methName the name of the method\n     */\n\n    function MethodBuilder(methName) {\n        _classCallCheck(this, MethodBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MethodBuilder).call(this));\n\n        _this.data = { methName: methName, wrappers: [] };\n        return _this;\n    }\n\n    /**\n     * To do something when invoked.\n     * @param {!function(el: HTMLElement, args: ...*)} fn the method's logic\n     * @returns {MethodBuilder} the builder\n     */\n\n    _createClass(MethodBuilder, [{\n        key: 'invoke',\n        value: function invoke(fn) {\n            if ((0, _utils.isFunction)(fn)) {\n                this.data.invoke = fn;\n            }\n            return this;\n        }\n\n        /**\n         * To do something around the invocation.\n         * @param {...function(el: HTMLElement, args: ...*)} wrappers a set of wrappers\n         * @returns {MethodBuilder} the builder\n         */\n\n    }, {\n        key: 'wrap',\n        value: function wrap() {\n            for (var _len = arguments.length, wrappers = Array(_len), _key = 0; _key < _len; _key++) {\n                wrappers[_key] = arguments[_key];\n            }\n\n            this.data.wrappers = this.data.wrappers.concat(wrappers);\n            return this;\n        }\n\n        /**\n         * @override\n         */\n\n    }, {\n        key: 'build',\n        value: function build(proto, on) {\n            var data = this.data;\n\n            if (data.invoke) {\n                proto[data.methName] = function () {\n                    return data.invoke.apply(this, [this].concat((0, _utils.toArray)(arguments)));\n                };\n            }\n\n            if (data.wrappers.length) {\n                on('before:createdCallback').invoke(function (el) {\n                    if ((0, _utils.isFunction)(el[data.methName])) {\n                        (function () {\n                            var lastIndex = data.wrappers.length - 1,\n                                original = el[data.methName],\n                                target = function target() {\n                                var args = (0, _utils.toArray)(arguments);\n                                args.shift();\n                                original.apply(el, args);\n                            };\n                            el[data.methName] = data.wrappers.reduce(function (next, current, index) {\n                                if (index === lastIndex) {\n                                    return (0, _utils.bind)((0, _utils.partial)(current, next, el), el);\n                                }\n                                return (0, _utils.bind)((0, _utils.partial)(current, next), el);\n                            }, target);\n                        })();\n                    }\n                });\n            }\n        }\n    }]);\n\n    return MethodBuilder;\n})(_Builder2.Builder);\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],6:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OnBuilder = undefined;\n\nvar _utils = require('../utils.js');\n\nvar _Builder2 = require('./Builder.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The on builder.\n * Its goal is to provide a way to listen events coming from the custom element.\n * @extends {Builder}\n */\n\nvar OnBuilder = exports.OnBuilder = (function (_Builder) {\n    _inherits(OnBuilder, _Builder);\n\n    /**\n     * @param {!string} events a list of tuple 'event target' separated by comas, the target is optional\n     */\n\n    function OnBuilder(events) {\n        _classCallCheck(this, OnBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(OnBuilder).call(this));\n\n        _this.data = { events: events, invoke: _utils.noop };\n        return _this;\n    }\n\n    /**\n     * To do something when events occurred.\n     * The target argument is by default the custom element.\n     * When the delegate feature is used, target is the matched element.\n     * @param {!function(el: HTMLElement, evt: DOMEvent, target: HTMLElement)} fn the event's logic\n     * @returns {OnBuilder} the builder\n     */\n\n    _createClass(OnBuilder, [{\n        key: 'invoke',\n        value: function invoke(fn) {\n            if ((0, _utils.isFunction)(fn)) {\n                this.data.invoke = fn;\n            }\n            return this;\n        }\n\n        /**\n         * To attach the event on the capture phase insteadof of on the bubble phase.\n         * @returns {OnBuilder} the builder\n         */\n\n    }, {\n        key: 'capture',\n        value: function capture() {\n            this.data.capture = true;\n            return this;\n        }\n\n        /**\n         * To delegate the event.\n         * @param {!string} selector the selector\n         * @returns {OnBuilder} the builder\n         */\n\n    }, {\n        key: 'delegate',\n        value: function delegate(selector) {\n            this.data.selector = selector;\n            return this;\n        }\n\n        /**\n         * To prevent the default behavior.\n         * @returns {OnBuilder} the builder\n         */\n\n    }, {\n        key: 'prevent',\n        value: function prevent() {\n            this.data.preventDefault = true;\n            return this;\n        }\n\n        /**\n         * To stop the event propagation.\n         * @returns {OnBuilder} the builder\n         */\n\n    }, {\n        key: 'stop',\n        value: function stop() {\n            this.data.stopPropagation = true;\n            return this;\n        }\n\n        /**\n         * To prevent the default behavior and to stop the event propagation.\n         * @returns {OnBuilder} the builder\n         */\n\n    }, {\n        key: 'skip',\n        value: function skip() {\n            return this.prevent().stop();\n        }\n\n        /**\n         * @ignore\n         */\n\n    }, {\n        key: 'build',\n        value: function build(proto, on) {\n            var events = this.data.events.split(',').map(function (event) {\n                return event.trim().split(' ');\n            }),\n                capture = !!this.data.capture,\n                invoke = this.data.invoke,\n                selector = this.data.selector,\n                stopPropagation = this.data.stopPropagation,\n                preventDefault = this.data.preventDefault;\n\n            on('before:createdCallback').invoke(function (el) {\n                el._cebOnHandlers = [];\n            });\n\n            on('before:attachedCallback').invoke(function (el) {\n                var listener = function listener(evt) {\n                    if (selector) {\n                        var target = (0, _utils.find)((0, _utils.toArray)(el.querySelectorAll(selector)), function (el) {\n                            return el === evt.target || el.contains(evt.target);\n                        });\n                        if (target) {\n                            if (stopPropagation) {\n                                evt.stopPropagation();\n                            }\n                            if (preventDefault) {\n                                evt.preventDefault();\n                            }\n                            invoke(el, evt, target);\n                        }\n                    } else {\n                        if (stopPropagation) {\n                            evt.stopPropagation();\n                        }\n                        if (preventDefault) {\n                            evt.preventDefault();\n                        }\n                        invoke(el, evt, el);\n                    }\n                };\n\n                el._cebOnHandlers = events.map(function (_ref) {\n                    var _ref2 = _slicedToArray(_ref, 2);\n\n                    var name = _ref2[0];\n                    var target = _ref2[1];\n                    return [name, target ? el.querySelector(target) : el];\n                }).filter(function (_ref3) {\n                    var _ref4 = _slicedToArray(_ref3, 2);\n\n                    var name = _ref4[0];\n                    var target = _ref4[1];\n                    return !!target;\n                }).map(function (_ref5) {\n                    var _ref6 = _slicedToArray(_ref5, 2);\n\n                    var name = _ref6[0];\n                    var target = _ref6[1];\n\n                    target.addEventListener(name, listener, capture);\n                    return [target, name, listener, capture];\n                });\n\n                el._cebOnHandlers.forEach(function (_ref7) {\n                    var _ref8 = _slicedToArray(_ref7, 4);\n\n                    var target = _ref8[0];\n                    var name = _ref8[1];\n                    var listener = _ref8[2];\n                    var capture = _ref8[3];\n                    return target.addEventListener(name, listener, capture);\n                });\n            });\n\n            on('before:detachedCallback').invoke(function (el) {\n                el._cebOnHandlers.forEach(function (_ref9) {\n                    var _ref10 = _slicedToArray(_ref9, 4);\n\n                    var target = _ref10[0];\n                    var name = _ref10[1];\n                    var listener = _ref10[2];\n                    var capture = _ref10[3];\n                    return target.removeEventListener(name, listener, capture);\n                });\n            });\n        }\n    }]);\n\n    return OnBuilder;\n})(_Builder2.Builder);\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],7:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PropertyBuilder = undefined;\n\nvar _Builder2 = require('./Builder.js');\n\nvar _utils = require('../utils.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_DATA = {\n    enumerable: true,\n    immutable: false,\n    descriptorValue: true\n};\n\n/**\n * The property builder.\n * Its goal is to provide a way to define a property.\n * @extends {Builder}\n */\n\nvar PropertyBuilder = (function (_Builder) {\n    _inherits(PropertyBuilder, _Builder);\n\n    /**\n     * @param {!string} propName the name of the property\n     */\n\n    function PropertyBuilder(propName) {\n        _classCallCheck(this, PropertyBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PropertyBuilder).call(this));\n\n        _this.data = (0, _utils.assign)({ propName: propName }, DEFAULT_DATA);\n        return _this;\n    }\n\n    /**\n     * To make an immutable property.\n     * @returns {PropertyBuilder} the builder\n     */\n\n    _createClass(PropertyBuilder, [{\n        key: 'immutable',\n        value: function immutable() {\n            this.data.immutable = true;\n            return this;\n        }\n\n        /**\n         * To hide the property name when using <code>Object.keys()</code>.\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'hidden',\n        value: function hidden() {\n            this.data.enumerable = false;\n            return this;\n        }\n\n        /**\n         * To set a default value.\n         * @param {*} value the default value\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'value',\n        value: function value(_value) {\n            this.data.value = _value;\n            return this;\n        }\n\n        /**\n         * To set a getter function.\n         * @param {function(el: HTMLElement): *} fn the getter function\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'getter',\n        value: function getter(fn) {\n            this.data.descriptorValue = false;\n            this.data.getter = fn;\n            return this;\n        }\n\n        /**\n         * To set a setter function.\n         * @param {function(el: HTMLElement, value: *)} fn the setter function\n         * @returns {PropertyBuilder} the builder\n         */\n\n    }, {\n        key: 'setter',\n        value: function setter(fn) {\n            this.data.descriptorValue = false;\n            this.data.setter = fn;\n            return this;\n        }\n\n        /**\n         * @ignore\n         */\n\n    }, {\n        key: 'build',\n        value: function build(proto, on) {\n            var _this2 = this;\n\n            var data = this.data,\n                defaultValue = (0, _utils.result)(this.data, 'value'),\n                descriptor = {\n                enumerable: this.data.enumerable\n            };\n\n            if (this.data.immutable) {\n                descriptor.configurable = false;\n                descriptor.writable = false;\n            } else if ((0, _utils.isFunction)(this.data.getter) || (0, _utils.isFunction)(this.data.setter)) {\n                descriptor.configurable = false;\n                descriptor.get = function () {\n                    return data.getter.call(this, this);\n                };\n                descriptor.set = function (value) {\n                    return data.setter.call(this, this, value);\n                };\n            } else {\n                descriptor.configurable = true;\n                descriptor.writable = true;\n            }\n\n            if (this.data.descriptorValue) {\n                descriptor.value = defaultValue;\n            }\n\n            Object.defineProperty(proto, this.data.propName, descriptor);\n\n            on('after:createdCallback').invoke(function (el) {\n                if (!_this2.data.descriptorValue && !(0, _utils.isUndefined)(defaultValue)) {\n                    el[data.propName] = defaultValue;\n                }\n            });\n        }\n    }]);\n\n    return PropertyBuilder;\n})(_Builder2.Builder);\n\nexports.PropertyBuilder = PropertyBuilder;\n\n},{\"../utils.js\":10,\"./Builder.js\":2}],8:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TemplateBuilder = undefined;\nexports.applyTemplate = applyTemplate;\n\nvar _utils = require('../utils.js');\n\nvar _Builder2 = require('./Builder.js');\n\nvar _PropertyBuilder = require('./PropertyBuilder.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The counter is used to generate unique DOM's id.\n * @type {number}\n */\nvar counter = 0;\n\n/**\n * The attribute name hosting the old light node id.\n * @type {string}\n */\nvar OLD_CONTENT_ID_ATTR_NAME = 'ceb-old-content-id';\n\n/**\n * Regex to detect the *ceb-content* attributes.\n * @type {RegExp}\n */\nvar CONTENT_ATTR_REG_EX = /ceb\\-content/im;\n\n/**\n * Regex to detect the *content* element.\n * @type {RegExp}\n */\nvar CONTENT_NODE_REG_EX = /<content><\\/content>/im;\n\n/**\n * @param {!string} html the HTML template\n * @returns {boolean} true if the HTML template handle a light DOM node\n */\nfunction hasContent(html) {\n    return html.search(CONTENT_ATTR_REG_EX) !== -1 || html.search(CONTENT_NODE_REG_EX) !== -1;\n}\n\n/**\n * Update or replace an eventual content flag according to the given id.\n * @param {!string} html the HTML template\n * @param {!string} newCebContentId the new content node id\n * @returns {string} the updated HTML template\n */\nfunction replaceContent(html, newCebContentId) {\n    return html.replace('<content></content>', '<ceb-lightdom ceb-content></ceb-lightdom>').replace('ceb-content', newCebContentId);\n}\n\n/**\n * Try to find a light DOM node\n * @param {!HTMLElement} el the custom element\n * @returns {HTMLElement} the light DOM node if found otherwise it's the given HTML Element\n */\nfunction findContentNode(el) {\n    if (!el) {\n        return;\n    }\n    var oldCebContentId = el.getAttribute(OLD_CONTENT_ID_ATTR_NAME);\n    if (oldCebContentId) {\n        return findContentNode(el.querySelector('[' + oldCebContentId + ']')) || el;\n    }\n    return el;\n}\n\n/**\n * Remove and return the children of the light DOM node.\n * @param {!HTMLElement} el the custom element\n * @returns {DocumentFragment} the light DOM fragment\n */\nfunction cleanOldContentNode(el) {\n    var oldContentNode = el.lightDom,\n        lightFrag = document.createDocumentFragment();\n    while (oldContentNode.childNodes.length > 0) {\n        lightFrag.appendChild(oldContentNode.removeChild(oldContentNode.childNodes[0]));\n    }\n    return lightFrag;\n}\n\n/**\n * Add the given DOM nodes list to the given element.\n * @param {!HTMLElement} el the custom element\n * @param {DocumentFragment} lightFrag the light DOM fragment\n */\nfunction fillNewContentNode(el, lightFrag) {\n    el.lightDom.appendChild(lightFrag);\n}\n\n/**\n * Apply the template given by the property cebTemplate.\n * @param {!HTMLElement} el the custom element\n * @param {!string} tpl the template\n */\nfunction applyTemplate(el, tpl) {\n    var lightFrag = [],\n        handleContentNode = hasContent(tpl);\n\n    if (handleContentNode) {\n        var newCebContentId = 'ceb-content-' + counter++;\n        lightFrag = cleanOldContentNode(el);\n\n        tpl = replaceContent(tpl, newCebContentId);\n\n        el.setAttribute(OLD_CONTENT_ID_ATTR_NAME, newCebContentId);\n    }\n\n    el.innerHTML = tpl;\n\n    if (handleContentNode) {\n        fillNewContentNode(el, lightFrag);\n    }\n}\n/**\n * The template builder.\n * Its goal is to provide a way to fill the content of a custom element.\n * @extends {Builder}\n */\n\nvar TemplateBuilder = exports.TemplateBuilder = (function (_Builder) {\n    _inherits(TemplateBuilder, _Builder);\n\n    /**\n     * @param {!string|function(el: HTMLElement)} tpl the template as a string or a function\n     */\n\n    function TemplateBuilder(tpl) {\n        _classCallCheck(this, TemplateBuilder);\n\n        /**\n         * @ignore\n         */\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TemplateBuilder).call(this));\n\n        _this.data = { tpl: tpl };\n        return _this;\n    }\n\n    /**\n     * @ignore\n     */\n\n    _createClass(TemplateBuilder, [{\n        key: 'build',\n        value: function build(proto, on) {\n            var data = this.data;\n\n            new _PropertyBuilder.PropertyBuilder('lightDom').getter(function (el) {\n                return findContentNode(el);\n            }).build(proto, on);\n\n            on('before:createdCallback').invoke(function (el) {\n                applyTemplate(el, (0, _utils.isFunction)(data.tpl) ? data.tpl(el) : data.tpl);\n            });\n        }\n    }]);\n\n    return TemplateBuilder;\n})(_Builder2.Builder);\n\n},{\"../utils.js\":10,\"./Builder.js\":2,\"./PropertyBuilder.js\":7}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Builder = undefined;\nexports.ceb = ceb;\nexports.property = property;\nexports.attribute = attribute;\nexports.method = method;\nexports.delegate = delegate;\nexports.template = template;\nexports.on = on;\n\nvar _CustomElementBuilder = require('./builder/CustomElementBuilder.js');\n\nvar _PropertyBuilder = require('./builder/PropertyBuilder.js');\n\nvar _AttributeBuilder = require('./builder/AttributeBuilder.js');\n\nvar _DelegateBuilder = require('./builder/DelegateBuilder.js');\n\nvar _MethodBuilder = require('./builder/MethodBuilder.js');\n\nvar _TemplateBuilder = require('./builder/TemplateBuilder.js');\n\nvar _OnBuilder = require('./builder/OnBuilder.js');\n\nvar _Builder = require('./builder/Builder.js');\n\n/**\n * The base builder type\n * @type {Builder} the builder\n */\nvar Builder = exports.Builder = _Builder.Builder;\n\n/**\n * Get a new custom element builder.\n * @returns {CustomElementBuilder} the custom element builder\n */\nfunction ceb() {\n  return new _CustomElementBuilder.CustomElementBuilder();\n}\n\n/**\n * Get a new property builder.\n * @param {!string} propName the name of the property\n * @returns {PropertyBuilder} the property builder\n */\nfunction property(propName) {\n  return new _PropertyBuilder.PropertyBuilder(propName);\n}\n\n/**\n * Get a new attribute builder.\n * @param {!string} attrName the name of the attribute\n * @returns {AttributeBuilder} the attribute builder\n */\nfunction attribute(attrName) {\n  return new _AttributeBuilder.AttributeBuilder(attrName);\n}\nattribute.getAttValue = _AttributeBuilder.getAttValue;\nattribute.setAttValue = _AttributeBuilder.setAttValue;\n\n/**\n * Get a new method builder.\n * @param {!string} methName the name of the method\n * @returns {MethodBuilder} the method builder\n */\nfunction method(methName) {\n  return new _MethodBuilder.MethodBuilder(methName);\n}\n\n/**\n * Get a new delegate builder.\n * @param {!PropertyBuilder|AttributeBuilder|MethodBuilder} builder a property, attribute or method builder\n * @returns {DelegateBuilder} the delegate builder\n */\nfunction delegate(builder) {\n  return new _DelegateBuilder.DelegateBuilder(builder);\n}\n\n/**\n * Get a new template builder.\n * @param {!string|Function} tpl the string or function template\n * @returns {TemplateBuilder} the template builder\n */\nfunction template(tpl) {\n  return new _TemplateBuilder.TemplateBuilder(tpl);\n}\ntemplate.applyTemplate = _TemplateBuilder.applyTemplate;\n\n/**\n * Get a new on builder.\n * @param {!string} events a list of tuple 'event target' separated by comas, the target is optional\n * @returns {OnBuilder} the on builder\n */\nfunction on(events) {\n  return new _OnBuilder.OnBuilder(events);\n}\n\n},{\"./builder/AttributeBuilder.js\":1,\"./builder/Builder.js\":2,\"./builder/CustomElementBuilder.js\":3,\"./builder/DelegateBuilder.js\":4,\"./builder/MethodBuilder.js\":5,\"./builder/OnBuilder.js\":6,\"./builder/PropertyBuilder.js\":7,\"./builder/TemplateBuilder.js\":8}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.camelCase = camelCase;\nexports.isFunction = isFunction;\nexports.isUndefined = isUndefined;\nexports.isNull = isNull;\nexports.isString = isString;\nexports.isArray = isArray;\nexports.result = result;\nexports.assign = assign;\nexports.toArray = toArray;\nexports.flatten = flatten;\nexports.invoke = invoke;\nexports.partial = partial;\nexports.bind = bind;\nexports.noop = noop;\nexports.find = find;\n/**\n * @ignore\n */\nfunction camelCase(value) {\n    return value.toLowerCase().split('-').map(function (part, index) {\n        return index ? part.charAt(0).toUpperCase() + part.slice(1) : part;\n    }).join('');\n}\n\n/**\n * @ignore\n */\nfunction isFunction(i) {\n    return Object.prototype.toString.call(i) === '[object Function]';\n}\n\n/**\n * @ignore\n */\nfunction isUndefined(i) {\n    return i === undefined;\n}\n\n/**\n * @ignore\n */\nfunction isNull(i) {\n    return i === null;\n}\n\n/**\n * @ignore\n */\nfunction isString(i) {\n    return Object.prototype.toString.call(i) === '[object String]';\n}\n\n/**\n * @ignore\n */\nfunction isArray(i) {\n    return Object.prototype.toString.call(i) === '[object Array]';\n}\n\n/**\n * @ignore\n */\nfunction result(obj, prop) {\n    var value = obj[prop];\n    return isFunction(value) ? value() : value;\n}\n\n/**\n * @ignore\n */\nfunction assign() {\n    return Array.prototype.reduce.call(arguments, function (target, source) {\n        return Object.keys(Object(source)).reduce(function (target, key) {\n            target[key] = source[key];\n            return target;\n        }, target);\n    });\n}\n\n/**\n * @ignore\n */\nfunction toArray(i) {\n    return Array.prototype.slice.call(i);\n}\n\n/**\n * @ignore\n */\nfunction flatten(array) {\n    return array.reduce(function (a, b) {\n        return isArray(b) ? a.concat(flatten(b)) : a.concat(b);\n    }, []);\n}\n\n/**\n * @ignore\n */\nfunction invoke() {\n    var args = toArray(arguments),\n        objects = args.shift(),\n        meth = args.shift();\n    if (isArray(objects)) {\n        objects.filter(function (obj) {\n            return isFunction(obj[meth]);\n        }).forEach(function (obj) {\n            return obj[meth].apply(obj, args);\n        });\n    }\n}\n\n/**\n * @ignore\n */\nfunction partial() {\n    var args = toArray(arguments),\n        fn = args.shift();\n    return function () {\n        return fn.apply(this, args.concat(toArray(arguments)));\n    };\n}\n\n/**\n * @ignore\n */\nfunction bind(fn, ctx) {\n    return function () {\n        return fn.apply(ctx, toArray(arguments));\n    };\n}\n\n/**\n * @ignore\n */\nfunction noop() {\n    return function () {};\n}\n\n/**\n * @ignore\n */\nfunction find(array, cb) {\n    return array.filter(cb)[0];\n}\n\n},{}]},{},[9])(9)\n});"],"sourceRoot":"/source/"}