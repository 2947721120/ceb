!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ceb=t():e.ceb=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);Object.defineProperty(t,"element",{enumerable:!0,get:function(){return r.element}});var a=n(6);Object.defineProperty(t,"property",{enumerable:!0,get:function(){return a.property}});var i=n(5);Object.defineProperty(t,"attribute",{enumerable:!0,get:function(){return i.attribute}}),Object.defineProperty(t,"getAttValue",{enumerable:!0,get:function(){return i.getAttValue}}),Object.defineProperty(t,"setAttValue",{enumerable:!0,get:function(){return i.setAttValue}});var u=n(8);Object.defineProperty(t,"delegate",{enumerable:!0,get:function(){return u.delegate}});var o=n(10);Object.defineProperty(t,"method",{enumerable:!0,get:function(){return o.method}});var c=n(12);Object.defineProperty(t,"template",{enumerable:!0,get:function(){return c.template}}),Object.defineProperty(t,"applyTemplate",{enumerable:!0,get:function(){return c.applyTemplate}});var l=n(11);Object.defineProperty(t,"on",{enumerable:!0,get:function(){return l.on}});var s=n(7);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return s.flatten}}),Object.defineProperty(t,"invoke",{enumerable:!0,get:function(){return s.invoke}});var f=n(2);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return f.toArray}}),Object.defineProperty(t,"toCamelCase",{enumerable:!0,get:function(){return f.toCamelCase}});var d=n(3);Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return d.bind}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return d.noop}}),Object.defineProperty(t,"partial",{enumerable:!0,get:function(){return d.partial}});var p=n(4);Object.defineProperty(t,"assign",{enumerable:!0,get:function(){return p.assign}}),Object.defineProperty(t,"result",{enumerable:!0,get:function(){return p.result}});var b=n(13);Object.defineProperty(t,"dispatchCustomEvent",{enumerable:!0,get:function(){return b.dispatchCustomEvent}}),Object.defineProperty(t,"dispatchMouseEvent",{enumerable:!0,get:function(){return b.dispatchMouseEvent}});var h=n(1);Object.defineProperty(t,"isArray",{enumerable:!0,get:function(){return h.isArray}}),Object.defineProperty(t,"isFunction",{enumerable:!0,get:function(){return h.isFunction}}),Object.defineProperty(t,"isNull",{enumerable:!0,get:function(){return h.isNull}}),Object.defineProperty(t,"isString",{enumerable:!0,get:function(){return h.isString}}),Object.defineProperty(t,"isUndefined",{enumerable:!0,get:function(){return h.isUndefined}})},function(e,t){"use strict";function n(e){return"[object Function]"===Object.prototype.toString.call(e)}function r(e){return void 0===e}function a(e){return null===e}function i(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=n,t.isUndefined=r,t.isNull=a,t.isString=i,t.isArray=u},function(e,t){"use strict";function n(e){return Array.prototype.slice.call(e)}function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e.toLowerCase().split("-").map(function(e,t){return t?e.charAt(0).toUpperCase()+e.slice(1):e}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=n,t.toCamelCase=r},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return function(){return e.apply(this,n.concat((0,u.toArray)(arguments)))}}function a(e,t){return function(){return e.apply(t,(0,u.toArray)(arguments))}}function i(){return function(){}}Object.defineProperty(t,"__esModule",{value:!0}),t.partial=r,t.bind=a,t.noop=i;var u=n(2)},function(e,t,n){"use strict";function r(e,t){var n=e[t];return(0,i.isFunction)(n)?n():n}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return[e].concat(n).reduce(function(e,t){return Object.keys(Object(t)).reduce(function(e,n){return e[n]=t[n],e},e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.result=r,t.assign=a;var i=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return n?e.hasAttribute(t):e.getAttribute(t)}function i(e,t,n,r){n?r&&!e.hasAttribute(t)?e.setAttribute(t,""):!r&&e.hasAttribute(t)&&e.removeAttribute(t):((0,s.isUndefined)(r)||(0,s.isNull)(r))&&e.hasAttribute(t)?e.removeAttribute(t):(0,s.isUndefined)(r)||(0,s.isNull)(r)||e.getAttribute(t)===r||e.setAttribute(t,r)}function u(e,t){return function(){return a(this,e,t)}}function o(e,t,n){return function(r){var a=(0,s.isFunction)(n)?n.call(this,this,r):r;return i(this,e,t,a)}}function c(e){return new b(e)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeBuilder=void 0,t.getAttValue=a,t.setAttValue=i,t.attribute=c;var s=n(1),f=n(4),d=n(2),p={bound:!0,getterFactory:u,setterFactory:o,getAttValue:a,setAttValue:i},b=function(){function e(t){r(this,e),this.data=(0,f.assign)({attrName:t,propName:(0,d.toCamelCase)(t),listeners:[]},p)}return l(e,[{key:"boolean",value:function(){return this.data.boolean=!0,this}},{key:"hidden",value:function(){return this.data.enumerable=!1,this}},{key:"unbound",value:function(){return this.data.bound=!1,this}},{key:"property",value:function(e){return this.data.propName=e,this}},{key:"value",value:function(e){return this.data.value=e,this}},{key:"listen",value:function(e){return this.data.listeners.push(e),this}},{key:"build",value:function(e,t){var n=this,r=(0,f.result)(this.data,"value"),i={enumerable:this.data.enumerable,configurable:!1,get:this.data.getterFactory(this.data.attrName,this.data.boolean),set:this.data.setterFactory(this.data.attrName,this.data.boolean)};this.data.bound&&Object.defineProperty(e,this.data.propName,i),t("after:createdCallback").invoke(function(e){if(n.data.bound){var t=a(e,n.data.attrName,n.data.boolean);n.data.boolean?e[n.data.propName]=r?r:t:(0,s.isNull)(t)||(0,s.isUndefined)(t)?(0,s.isUndefined)(r)||(e[n.data.propName]=r):e[n.data.propName]=t}n.data.listeners.length>0&&!function(){var t=n.data.boolean?!1:null,r=e[n.data.propName];t!==r&&n.data.listeners.forEach(function(n){return n.call(e,e,t,r)})}()}),t("before:attributeChangedCallback").invoke(function(e,t,r,a){if(t===n.data.attrName){if(n.data.bound){var i=n.data.boolean?""===a:a;e[n.data.propName]!==i&&(e[n.data.propName]=i)}n.data.listeners.length>0&&!function(){var t=n.data.boolean?""===r:r,i=n.data.boolean?""===a:a;t!==i&&n.data.listeners.forEach(function(n){return n.call(e,e,t,i)})}()}})}}]),e}();t.AttributeBuilder=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new l(e)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyBuilder=void 0,t.property=a;var u=n(1),o=n(4),c={enumerable:!0,immutable:!1,descriptorValue:!0},l=function(){function e(t){r(this,e),this.data=(0,o.assign)({propName:t},c)}return i(e,[{key:"immutable",value:function(){return this.data.immutable=!0,this}},{key:"hidden",value:function(){return this.data.enumerable=!1,this}},{key:"value",value:function(e){return this.data.value=e,this}},{key:"getter",value:function(e){return this.data.descriptorValue=!1,this.data.getter=e,this}},{key:"setter",value:function(e){return this.data.descriptorValue=!1,this.data.setter=e,this}},{key:"build",value:function(e,t){var n=this,r=this.data,a=(0,o.result)(this.data,"value"),i={enumerable:this.data.enumerable};this.data.immutable?(i.configurable=!1,i.writable=!1):(0,u.isFunction)(this.data.getter)||(0,u.isFunction)(this.data.setter)?(i.configurable=!1,i.get=function(){return r.getter.call(this,this)},i.set=function(e){return r.setter.call(this,this,e)}):(i.configurable=!0,i.writable=!0),this.data.descriptorValue&&(i.value=a),Object.defineProperty(e,this.data.propName,i),t("after:createdCallback").invoke(function(e){n.data.descriptorValue||(0,u.isUndefined)(a)||(e[r.propName]=a)})}}]),e}();t.PropertyBuilder=l},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return(0,i.isArray)(t)?e.concat(r(t)):e.concat(t)},[])}function a(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;n>a;a++)r[a-2]=arguments[a];return(0,i.isArray)(e)?e.filter(function(e){return(0,i.isFunction)(e[t])}).map(function(e){return e[t].apply(e,r)}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=r,t.invoke=a;var i=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new l(e)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DelegateBuilder=void 0,t.delegate=a;var u=n(1),o=n(2),c=n(5),l=t.DelegateBuilder=function(){function e(t){r(this,e),this.fieldBuilder=t,this.data={},t.data.attrName?this.data.attrName=t.data.attrName:this.fieldBuilder.data.propName?this.data.propName=t.data.propName:this.fieldBuilder.data.methName&&(this.data.methName=t.data.methName)}return i(e,[{key:"to",value:function(e){return this.data.selector=e,this}},{key:"property",value:function(e){return this.data.attrName=null,(0,u.isUndefined)(e)?this.data.propName=this.fieldBuilder.data.propName:this.data.propName=e,this}},{key:"attribute",value:function(e){return this.data.propName=null,(0,u.isUndefined)(e)?this.data.attrName=this.fieldBuilder.data.attrName||this.fieldBuilder.data.propName:this.data.attrName=e,this}},{key:"method",value:function(e){return this.data.methName=null,(0,u.isUndefined)(e)?this.data.methName=this.fieldBuilder.data.methName:this.data.methName=e,this}},{key:"build",value:function(e,t){var n=this.data,r=this.fieldBuilder.data,a=this.data.propName,i=this.data.methName,l=this.data.attrName,s=r.getter,f=r.setter;r.attrName?(r.getterFactory=function(e,t){return function(){var e=this.querySelector(n.selector);return e?l?(0,c.getAttValue)(e,l,t):e[a]:void 0}},r.setterFactory=function(e,t){return function(r){var i=this.querySelector(n.selector),u=r;i&&(l?(0,c.setAttValue)(i,l,t,u):i[a]=u,(0,c.setAttValue)(this,e,t,u))}}):r.propName?(r.descriptorValue=!1,r.getter=function(e){var t=e.querySelector(n.selector),r=void 0;return t&&(r=l?t.getAttribute(l):t[a]),(0,u.isFunction)(s)?s.call(e,e,r):r},r.setter=function(e,t){var r=e.querySelector(n.selector),i=(0,u.isFunction)(f)?f.call(e,e,t):t;r&&(l?r.setAttribute(l,i):r[a]=i)}):r.methName&&(r.invoke=function(e){var t=e.querySelector(n.selector);if((0,u.isFunction)(t[i])){var r=(0,o.toArray)(arguments);return r.shift(),t[i].apply(t,r)}}),this.fieldBuilder.build(e,t)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=e.proto,r=n[t],a=e.events["before:"+t],i=e.events["after:"+t];n[t]=function(){var e=this,t=[this].concat((0,l.toArray)(arguments));a.forEach(function(n){return n.apply(e,t)}),(0,o.isFunction)(r)&&r.apply(this,t),i.forEach(function(n){return n.apply(e,t)})}}function i(){return new p}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ElementBuilder=void 0,t.element=i;var o=n(1),c=n(3),l=n(2),s=n(7),f=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"],d=(0,s.flatten)(f.map(function(e){return["before:"+e,"after:"+e]})),p=function(){function e(){r(this,e);var t=Object.create(HTMLElement.prototype),n=[],a=d.reduce(function(e,t){return e[t]=[],e},{"before:builders":[],"after:builders":[],"before:registerElement":[],"after:registerElement":[]});this.context={proto:t,builders:n,events:a}}return u(e,[{key:"extend",value:function(e){return this.context.extend=e,this}},{key:"proto",value:function(e){return this.context.proto=e,this}},{key:"builders",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return n.forEach(function(t){return e.context.builders.push(t)}),this}},{key:"on",value:function(e){var t=this,n=function(n){return t.context.events[e].push(n),t};return{invoke:n}}},{key:"register",value:function(e){var t=this;this.context.events["before:builders"].forEach(function(e){return e(t.context)}),(0,s.invoke)(this.context.builders,"build",this.context.proto,(0,c.bind)(this.on,this)),this.context.events["after:builders"].forEach(function(e){return e(t.context)}),f.forEach((0,c.partial)(a,this.context));var n={prototype:this.context.proto};(0,o.isString)(this.context.extend)&&(n.extends=this.context.extend),this.context.events["before:registerElement"].forEach(function(e){return e(t.context)});var r=document.registerElement(e,n);return this.context.events["after:registerElement"].forEach(function(e){return e(r)}),r}}]),e}();t.ElementBuilder=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new l(e)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MethodBuilder=void 0,t.method=a;var u=n(1),o=n(3),c=n(2),l=t.MethodBuilder=function(){function e(t){r(this,e),this.data={methName:t,wrappers:[]}}return i(e,[{key:"invoke",value:function(e){return(0,u.isFunction)(e)&&(this.data.invoke=e),this}},{key:"wrap",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.data.wrappers=this.data.wrappers.concat(t),this}},{key:"build",value:function(e,t){var n=this.data;n.invoke&&(e[n.methName]=function(){return n.invoke.apply(this,[this].concat((0,c.toArray)(arguments)))}),n.wrappers.length&&t("before:createdCallback").invoke(function(e){(0,u.isFunction)(e[n.methName])&&!function(){var t=n.wrappers.length-1,r=e[n.methName],a=function(){var t=(0,c.toArray)(arguments);t.shift(),r.apply(e,t)};e[n.methName]=n.wrappers.reduce(function(n,r,a){return a===t?(0,o.bind)((0,o.partial)(r,n,e),e):(0,o.bind)((0,o.partial)(r,n),e)},a)}()})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new s(e)}var i=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return&&o.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OnBuilder=void 0,t.on=a;var o=n(1),c=n(3),l=n(2),s=t.OnBuilder=function(){function e(t){r(this,e),this.data={events:t,invoke:c.noop}}return u(e,[{key:"invoke",value:function(e){return(0,o.isFunction)(e)&&(this.data.invoke=e),this}},{key:"capture",value:function(){return this.data.capture=!0,this}},{key:"delegate",value:function(e){return this.data.selector=e,this}},{key:"prevent",value:function(){return this.data.preventDefault=!0,this}},{key:"stop",value:function(){return this.data.stopPropagation=!0,this}},{key:"skip",value:function(){return this.prevent().stop()}},{key:"build",value:function(e,t){var n=this.data.events.split(",").map(function(e){return e.trim().split(" ")}),r=!!this.data.capture,a=this.data.invoke,u=this.data.selector,o=this.data.stopPropagation,c=this.data.preventDefault;t("before:createdCallback").invoke(function(e){e._cebOnHandlers=[]}),t("before:attachedCallback").invoke(function(e){var t=function(t){if(u){var n=(0,l.toArray)(e.querySelectorAll(u)).filter(function(e){return e===t.target||e.contains(t.target)})[0];n&&(o&&t.stopPropagation(),c&&t.preventDefault(),a(e,t,n))}else o&&t.stopPropagation(),c&&t.preventDefault(),a(e,t,e)};e._cebOnHandlers=n.map(function(t){var n=i(t,2),r=n[0],a=n[1];return[r,a?e.querySelector(a):e]}).filter(function(e){var t=i(e,2),n=(t[0],t[1]);return!!n}).map(function(e){var n=i(e,2),a=n[0],u=n[1];return u.addEventListener(a,t,r),[u,a,t,r]}),e._cebOnHandlers.forEach(function(e){var t=i(e,4),n=t[0],r=t[1],a=t[2],u=t[3];return n.addEventListener(r,a,u)})}),t("before:detachedCallback").invoke(function(e){e._cebOnHandlers.forEach(function(e){var t=i(e,4),n=t[0],r=t[1],a=t[2],u=t[3];return n.removeEventListener(r,a,u)})})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return-1!==e.search(v)||-1!==e.search(m)}function i(e,t){return e.replace("<content></content>","<ceb-lightdom ceb-content></ceb-lightdom>").replace("ceb-content",t)}function u(e){if(e){var t=e.getAttribute(h);return t?u(e.querySelector("["+t+"]"))||e:e}}function o(e){for(var t=e.lightDom,n=document.createDocumentFragment();t.childNodes.length>0;)n.appendChild(t.removeChild(t.childNodes[0]));return n}function c(e,t){e.lightDom.appendChild(t)}function l(e,t){var n=[],r=a(t);if(r){var u="ceb-content-"+b++;n=o(e),t=i(t,u),e.setAttribute(h,u)}e.innerHTML=t,r&&c(e,n)}function s(e){return new y(e)}var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateBuilder=void 0,t.applyTemplate=l,t.template=s;var d=n(1),p=n(6),b=0,h="ceb-old-content-id",v=/ceb\-content/im,m=/<content><\/content>/im,y=t.TemplateBuilder=function(){function e(t){r(this,e),this.data={tpl:t}}return f(e,[{key:"build",value:function(e,t){var n=this.data;new p.PropertyBuilder("lightDom").getter(function(e){return u(e)}).build(e,t),t("before:createdCallback").invoke(function(e){l(e,(0,d.isFunction)(n.tpl)?n.tpl(e):n.tpl)})}}]),e}()},function(e,t,n){"use strict";function r(e,t,n){var r=void 0,a=(0,i.assign)({},c,n);return"function"==typeof CustomEvent?r=new CustomEvent(t,a):(r=document.createEvent("CustomEvent"),r.initCustomEvent.apply(r,[t].concat(u.map(function(e){return a[e]})))),e.dispatchEvent(r)}function a(e,t,n){var r=void 0,a=(0,i.assign)({},l,n);return"function"==typeof MouseEvent?r=new MouseEvent(t,a):(r=document.createEvent("MouseEvents"),r.initMouseEvent.apply(r,[t].concat(o.map(function(e){return a[e]})))),e.dispatchEvent(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchCustomEvent=r,t.dispatchMouseEvent=a;var i=n(4),u=["bubbles","cancelable","detail"],o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],c={bubbles:!0,cancelable:!0,detail:null},l={bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null}}])});