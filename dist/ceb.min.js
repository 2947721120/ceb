/* ceb - Custom Element Builder - v0.0.1 - 2015-01-24 */
!function(a,b){"use strict";"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("ceb",[],b):a.ceb=b()}(this,function(){"use strict";function a(){return function(){}}function b(a){var b=a||{};return Object.getOwnPropertyNames(b).map(function(a){return b[a]})}function c(a){return a.split(/(?=[A-Z])/).map(function(a){return a.charAt(0).toLowerCase()+a.slice(1)}).join("-")}function d(a,b){return a.level>b.level}function e(a,b,c,d){d?c&&!a.hasAttribute(b)?a.setAttribute(b,""):!c&&a.hasAttribute(b)&&a.removeAttribute(b):null!==c&&void 0!==c||!a.hasAttribute(b)?null!==c&&void 0!==c&&a.getAttribute(b)!==c&&a.setAttribute(b,c):a.removeAttribute(b)}function f(a,b){var c=a.sort(d);return function(){var a=this;return c.reduce(function(b,c){return c.bind(a,b,a)},b.bind(a,a)).apply(a,arguments)}}function g(a,b,c){return function(d,f){var g=f;b&&(g=b.call(d,d,f)),e(d,a,g,c)}}function h(a,b,c){return function(d){var e=c?d.hasAttribute(a):d.getAttribute(a);return b&&(e=b.call(d,d,e)),e}}function i(a,b){var c=a.sort(d);return function(){var a=this;return c.reduce(function(b,c){return c.bind(a,function(c){var d=c||[];return b.apply(a,Array.prototype.slice.call(d).slice(2,d.length))},a)},b.bind(a,a)).apply(a,arguments)}}function j(b){b.prototype=b.prototype||Object.create(HTMLElement.prototype),b.features=b.features||[],b.interceptors=b.interceptors||[],b.wrappers=b.wrappers||[],b.methods=Object.assign({createdCallback:a(),attachedCallback:a(),detachedCallback:a(),attributeChangedCallback:a()},b.methods)}function k(a){var b=u(a.tagName,{struct:a,registered:!0});a.features.sort(d).forEach(function(c){c.fn&&c.fn.setup&&c.fn.setup(a,b,c.options)})}function l(a){return b(a.accessors).filter(function(a){return a.attName}).reduce(function(a,b){return a[b.attName]=b,a},{})}function m(a){return b(a.accessors).map(function(b){var c={configurable:!1,enumerable:!0};if(b.attribute){var d=b.set,e=b.get;b.set=g(b.attName,d,!!b.attribute["boolean"]),b.get=h(b.attName,e,!!b.attribute["boolean"])}else b.hasOwnProperty("value")&&(c.value=b.value,c.writable=b.hasOwnProperty("writable")?b.writable:!0);if(!c.hasOwnProperty("writable")){var i=a.interceptors[b.propName]||{};if(b.set){var j=i.set||[];c.set=f(j,b.set)}if(b.get){var k=i.get||[];c.get=f(k,b.get)}}return Object.assign(b,{property:c})}).reduce(function(a,b){return a[b.propName]=b.property,a},{})}function n(a){return Object.getOwnPropertyNames(a.methods).map(function(b){var c=a.wrappers[b]||[],d=a.methods[b];return{methName:b,fn:i(c,d)}}).reduce(function(a,b){return a[b.methName]=b.fn,a},{})}function o(){return{accessors:{},methods:{},wrappers:[],interceptors:[],features:[{fn:t.delegate,level:-2},{fn:t.valueInitializer,level:-1}]}}function p(a){return a.attribute&&(a.attName=a.attribute.name||c(a.propName)),a.writable=a.hasOwnProperty("writable")?a.writable:!0,a}function q(a){var b={};return b.start=function(b){return u(b,a)},b}var r={};r.emptyFn=a,r.listValues=b,r.fromCamelCaseToHyphenCase=c,r.compareLevels=d,r.applyAttributeValue=e,r.accessorFactory=f,r.attributeAccessorSetFactory=g,r.attributeAccessorGetFactory=h,r.methodFactory=i,r.sanitizeStructure=j,r.setupFeatures=k,r.createAttributesHash=l,r.createPropertiesHash=m,r.createMethodsHash=n;var s=function(a){return j(a),k(a),a.properties=m(a),a.attributes=l(a),a.methods=n(a),Object.defineProperties(a.prototype,a.properties),Object.assign(a.prototype,a.methods),document.registerElement(a.tagName,a)};r.build=s;var t={};r.builtInFeatures=t,t.delegate=a(),t.delegate.delegableAccessorInterceptor=function(a,b,c,d){b(d);var f=c.querySelector(a.delegate.target);if(f){var g=a.delegate.property,h=a.delegate.attribute;g||h||(g=a.propName,h=a.attName);var i=a.attribute&&!!a.attribute["boolean"];a.delegate.hasOwnProperty("boolean")&&(i=a.delegate["boolean"]),h?e(f,h,d,i):f[g]=c[a.propName]}},t.delegate.setup=function(a,c){b(a.accessors).filter(function(a){return a.delegate}).forEach(function(a){var b=t.delegate.delegableAccessorInterceptor;c.intercept(a.propName,b.bind(t.delegate,a))})},t.valueInitializer=a(),t.valueInitializer.createdCallbackWrapper=function(a,c,d){c(arguments),b(a.accessors).forEach(function(a){a.attName?(d.hasAttribute(a.attName)&&(d[a.propName]=a.attribute["boolean"]?!0:d.getAttribute(a.attName)),a.hasOwnProperty("value")&&e(d,a.attName,a.value,a.attribute["boolean"])):a.value&&a.writable&&(d[a.propName]=a.value)})},t.valueInitializer.attributeChangedCallbackWrapper=function(a,b,c,d,e,f){var g=a.attributes[d];if(g){var h=f;g.attribute["boolean"]&&(h="string"==typeof f?!0:!1),c[g.propName]=h}b(arguments)},t.valueInitializer.setup=function(a,b){var c=t.valueInitializer.createdCallbackWrapper,d=t.valueInitializer.attributeChangedCallbackWrapper;b.wrap("createdCallback",c.bind(t.valueInitializer,a)),b.wrap("attributeChangedCallback",d.bind(t.valueInitializer,a))},r.baseStructFactory=o,r.sanitizeAccessor=p;var u=function(a,b){var c=b&&b.struct?b.struct:o();c.tagName=a;var d=b&&b.hasOwnProperty("registered")?b.registered:!1,e={};return e.wrap=function(a,b,d){return c.wrappers[a]||(c.wrappers[a]=[]),b.level=isNaN(d)?0:d,c.wrappers[a].push(b),e},e.intercept=function(a,b,d,f){return c.interceptors[a]||(c.interceptors[a]={set:[],get:[]}),b&&(b.level=isNaN(f)?0:f,c.interceptors[a].set.push(b)),d&&(d.level=isNaN(f)?0:f,c.interceptors[a].get.push(d)),e},e["extends"]=function(a){return c["extends"]=a,e},e.prototype=function(a){return c.prototype=a,e},e.accessors=function(a){var b=Object.getOwnPropertyNames(a||{}).map(function(b){return Object.assign(a[b],{propName:b})}).map(p).reduce(function(a,b){return a[b.propName]=b,a},{});return Object.assign(c.accessors,b),e},e.methods=function(a){return Object.assign(c.methods,a),e},e.feature=function(a,b,d){return c.features.push({fn:a,options:b,level:isNaN(d)?0:d}),e},e.register=function(){return d?void 0:(d=!0,s(c))},e.get=function(){return c},e};return r.builder=u,q._testing=r,q});
//# sourceMappingURL=ceb.min.js.map
