{"version":3,"sources":["lib/builder/PropertyBuilder.min.js"],"names":["System","register","_export","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","helper","propName","PropertyBuilder","isFunction","isUndefined","result","assign","Builder","DEFAULT_DATA","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","call","getPrototypeOf","setters","_lodashLangIsFunctionJs","_lodashLangIsUndefinedJs","_lodashObjectResultJs","_lodashObjectAssignJs","_BuilderJs","execute","immutable","descriptorValue","_Builder","this","data","_value","fn","setter","proto","on","_this","defaultValue","set","invoke","el"],"mappings":"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","file":"lib/builder/PropertyBuilder.min.js","sourcesContent":["System.register(['lodash/lang/isFunction.js', 'lodash/lang/isUndefined.js', 'lodash/object/result.js', 'lodash/object/assign.js', './Builder.js'], function (_export) {\n    'use strict';\n\n    var isFunction, isUndefined, result, assign, Builder, DEFAULT_DATA, PropertyBuilder;\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    _export('default', helper);\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    /**\n     * @ignore\n     */\n\n    function helper(propName) {\n        return new PropertyBuilder(propName);\n    }\n\n    return {\n        setters: [function (_lodashLangIsFunctionJs) {\n            isFunction = _lodashLangIsFunctionJs['default'];\n        }, function (_lodashLangIsUndefinedJs) {\n            isUndefined = _lodashLangIsUndefinedJs['default'];\n        }, function (_lodashObjectResultJs) {\n            result = _lodashObjectResultJs['default'];\n        }, function (_lodashObjectAssignJs) {\n            assign = _lodashObjectAssignJs['default'];\n        }, function (_BuilderJs) {\n            Builder = _BuilderJs['default'];\n        }],\n        execute: function () {\n            DEFAULT_DATA = {\n                enumerable: true,\n                immutable: false,\n                descriptorValue: true\n            };\n\n            /**\n             * The property builder.\n             * Its goal is to provide a way to define a property.\n             * @extends {Builder}\n             */\n\n            PropertyBuilder = (function (_Builder) {\n                _inherits(PropertyBuilder, _Builder);\n\n                /**\n                 * @param {!string} propName the name of the property\n                 */\n\n                function PropertyBuilder(propName) {\n                    _classCallCheck(this, PropertyBuilder);\n\n                    _get(Object.getPrototypeOf(PropertyBuilder.prototype), 'constructor', this).call(this);\n                    /**\n                     * @ignore\n                     */\n                    this.data = assign({ propName: propName }, DEFAULT_DATA);\n                }\n\n                /**\n                 * To make an immutable property.\n                 * @returns {PropertyBuilder} the builder\n                 */\n\n                _createClass(PropertyBuilder, [{\n                    key: 'immutable',\n                    value: function immutable() {\n                        this.data.immutable = true;\n                        return this;\n                    }\n\n                    /**\n                     * To hide the property name when using <code>Object.keys()</code>.\n                     * @returns {PropertyBuilder} the builder\n                     */\n                }, {\n                    key: 'hidden',\n                    value: function hidden() {\n                        this.data.enumerable = false;\n                        return this;\n                    }\n\n                    /**\n                     * To set a default value.\n                     * @param {*} value the default value\n                     * @returns {PropertyBuilder} the builder\n                     */\n                }, {\n                    key: 'value',\n                    value: function value(_value) {\n                        this.data.value = _value;\n                        return this;\n                    }\n\n                    /**\n                     * To set a getter function.\n                     * @param {function(el: HTMLElement): *} fn the getter function\n                     * @returns {PropertyBuilder} the builder\n                     */\n                }, {\n                    key: 'getter',\n                    value: function getter(fn) {\n                        this.data.descriptorValue = false;\n                        this.data.getter = fn;\n                        return this;\n                    }\n\n                    /**\n                     * To set a setter function.\n                     * @param {function(el: HTMLElement, value: *)} fn the setter function\n                     * @returns {PropertyBuilder} the builder\n                     */\n                }, {\n                    key: 'setter',\n                    value: function setter(fn) {\n                        this.data.descriptorValue = false;\n                        this.data.setter = fn;\n                        return this;\n                    }\n\n                    /**\n                     * @ignore\n                     */\n                }, {\n                    key: 'build',\n                    value: function build(proto, on) {\n                        var _this = this;\n\n                        var data = this.data,\n                            defaultValue = result(this.data, 'value'),\n                            descriptor = {\n                            enumerable: this.data.enumerable\n                        };\n\n                        if (this.data.immutable) {\n                            descriptor.configurable = false;\n                            descriptor.writable = false;\n                        } else if (isFunction(this.data.getter) || isFunction(this.data.setter)) {\n                            descriptor.configurable = false;\n                            descriptor.get = function () {\n                                return data.getter.call(this, this);\n                            };\n                            descriptor.set = function (value) {\n                                return data.setter.call(this, this, value);\n                            };\n                        } else {\n                            descriptor.configurable = true;\n                            descriptor.writable = true;\n                        }\n\n                        if (this.data.descriptorValue) {\n                            descriptor.value = defaultValue;\n                        }\n\n                        Object.defineProperty(proto, this.data.propName, descriptor);\n\n                        on('after:createdCallback').invoke(function (el) {\n                            if (!_this.data.descriptorValue && !isUndefined(defaultValue)) {\n                                el[data.propName] = defaultValue;\n                            }\n                        });\n                    }\n                }]);\n\n                return PropertyBuilder;\n            })(Builder);\n\n            _export('PropertyBuilder', PropertyBuilder);\n        }\n    };\n});"],"sourceRoot":"/source/"}