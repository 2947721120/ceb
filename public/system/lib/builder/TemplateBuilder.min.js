System.register(["lodash/lang/isFunction.js","lodash/lang/isString.js","./Builder.js","./PropertyBuilder.js"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t){return-1!==t.search(b)||-1!==t.search(h)}function o(t,e){return t.replace("<content></content>","<span ceb-content></span>").replace("ceb-content",e)}function i(t){if(t){var e=t.getAttribute(v);return e?i(t.querySelector("["+e+"]"))||t:t}}function u(t){for(var e=t.lightDomNode,n=[];e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));return n}function c(t,e){var n=t.lightDomNode;e.forEach(function(t){n.appendChild(t)})}function l(t){return new y(t)}var a,f,s,p,d,v,b,h,y,g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t,e,n){for(var r=!0;r;){var o=t,i=e,u=n;c=a=l=void 0,r=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(void 0!==c){if("value"in c)return c.value;var l=c.get;return void 0===l?void 0:l.call(u)}var a=Object.getPrototypeOf(o);if(null===a)return void 0;t=a,e=i,n=u,r=!0}};return t("default",l),{setters:[function(t){a=t["default"]},function(t){f=t["default"]},function(t){s=t["default"]},function(t){p=t["default"]}],execute:function(){d=0,v="ceb-old-content-id",b=/ceb\-content/im,h=/<content><\/content>/im,y=function(t){function l(t){e(this,l),m(Object.getPrototypeOf(l.prototype),"constructor",this).call(this),this.data={tpl:t}}return n(l,t),g(l,[{key:"build",value:function(t,e){var n=this.data,l=f(n.tpl)?n.tpl:null;p("lightDomNode").getter(function(t){return i(t)}).build(t,e),e("before:createdCallback").invoke(function(t){var e=l;a(n.tpl)&&(e=n.tpl(t));var i=[],f=r(e);if(f){var s="ceb-content-"+d++;i=u(t),e=o(e,s),t.setAttribute(v,s)}t.innerHTML=e,f&&c(t,i)})}}]),l}(s),t("TemplateBuilder",y)}}});
//# sourceMappingURL=../../lib/builder/TemplateBuilder.min.js.map