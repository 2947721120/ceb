<script src="dist/umd/helper/types.js"></script>
<script src="dist/umd/helper/arrays.js"></script>
<script src="dist/umd/helper/converters.js"></script>
<script src="dist/umd/helper/functions.js"></script>
<script src="dist/umd/helper/objects.js"></script>
<script src="dist/umd/helper/events.js"></script>

<script src="dist/umd/builder/property.js"></script>
<script src="dist/umd/builder/attribute.js"></script>
<script src="dist/umd/builder/delegate.js"></script>
<script src="dist/umd/builder/method.js"></script>
<script src="dist/umd/builder/on.js"></script>
<script src="dist/umd/builder/template.js"></script>
<script src="dist/umd/builder/element.js"></script>

<script src="dist/umd/ceb.js"></script>

<script id="ceb-button-template" type="text/html">
    <button class="btn btn-default">
        <div>
            <span x-ref="icon"></span>
            <span x-ref="label"></span>
        </div>
    </button>
</script>

<div class="container">
    <ceb-button></ceb-button>
</div>

<script>
    document.body.onload = function () {
        var tpl = document.getElementById('ceb-button-template').textContent;
        ceb.element().builders(
            ceb.template(tpl),
            ceb.delegate(ceb.attribute('name')).to('button'),
            ceb.delegate(ceb.attribute('disabled').boolean()).to('button').property(),
            ceb.delegate(ceb.attribute('label').value('click me')).to('button [x-ref=label]').property('textContent'),
            ceb.delegate(ceb.attribute('icon').value('X')).to('button [x-ref=icon]').property('textContent'),
            ceb.on('click button').invoke(function (el) {
                el.label = (el.label === 'click me' ? 'clicked' : 'click me');
            })
        ).register('ceb-button');
    }
</script>
