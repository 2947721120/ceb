<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AMD - ceb's examples</title>

    <link rel="stylesheet" type="text/css" href="../node_modules/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css"/>

    <script src="../node_modules/document-register-element/build/document-register-element.js"></script>
    <script src="../node_modules/requirejs/require.js"></script>

    <script>
        require([
            '../dist/amd/ceb'
        ], function (ceb) {
            var tpl = document.getElementById('ceb-button-template').textContent;
            ceb.ceb().augment(
                ceb.template(tpl),
                ceb.delegate(ceb.attribute('name')).to('button'),
                ceb.delegate(ceb.attribute('disabled').boolean()).to('button').property(),
                ceb.delegate(ceb.attribute('label').value('click me')).to('button [x-ref=label]').property('textContent'),
                ceb.delegate(ceb.attribute('icon').value('X')).to('button [x-ref=icon]').property('textContent'),
                ceb.on('click button').invoke(function (el) {
                    el.label = (el.label === 'click me' ? 'clicked' : 'click me');
                })
            ).register('ceb-button');
        });
    </script>

    <script id="ceb-button-template" type="text/html">
        <button class="btn btn-default">
            <div>
                <span x-ref="icon"></span>
                <span x-ref="label"></span>
            </div>
        </button>
    </script>

</head>
<body class="container">

<h1>AMD - ceb's examples</h1>

<p>
    <a href="../">back</a>
</p>

<ceb-button></ceb-button>

</body>
</html>
