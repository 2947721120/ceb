<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Custom Elements Builder (ceb) is just a builder, natively scalable and designed for FRP."><meta name="keywords " content=Web,Components,Custom,Element,Elements,DOM,W3C,FRP,functional,reactive,template,builder><meta name=language content=en><meta name=author content="Thibault Morin"><meta name=viewport content="width=device-width"><title>template() - custom-elements-builder - just a set of builders, natively scalable and designed for FRP</title><link rel=stylesheet href=styles/main.css><script src=scripts/jquery.min.js></script><script src=scripts/bootstrap.min.js></script></head><body><nav class="navbar navbar-default"><div class=container><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1 aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="./"><code>&lt;ceb/&gt;</code></a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li><a href=about.html>About</a></li><li class=dropdown><a href=documentation.html class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>Documentation <span class=caret></span></a><ul class=dropdown-menu><li><a href=ceb.html>ceb()</a></li><li role=separator class=divider></li><li><a href=property.html>property()</a></li><li><a href=attribute.html>attribute()</a></li><li><a href=method.html>method()</a></li><li><a href=on.html>on()</a></li><li role=separator class=divider></li><li><a href=delegate.html>delegate()</a></li><li role=separator class=divider></li><li class=active><a href=template.html>template()</a></li></ul></li><li><a href=api target=_blank>API</a></li><li><a href=example target=_blank>Examples</a></li><li><a href=https://github.com/tmorin/custom-elements-builder target=_blank>Github</a></li></ul></div></div></nav><div class=container><h1 id=template->template()</h1><p>The function <code>template()</code> returns a fresh <code>TemplateBuilder</code> providing services to define ... a template.</p><h2 id=import>Import</h2><pre><code class=lang-javascript>import {template} from &#39;custom-element-builder&#39;;
</code></pre><h2 id=usage>Usage</h2><p>The template can be given as a <code>string</code> or a <code>function</code>. The function will be called on <code>createdCallback</code>.</p><pre><code class=lang-javascript>import {ceb, template} from &#39;custom-element-builder&#39;;
ceb()
    .augment(
        template(`&lt;button&gt;&lt;/button&gt;`)
    )
    .register(&#39;ceb-example&#39;);
</code></pre><pre><code class=lang-javascript>import {ceb, template} from &#39;custom-element-builder&#39;;
ceb()
    .augment(
        template(el =&gt; `&lt;button&gt;${el.tagName}&lt;/button&gt;`)
    )
    .register(&#39;ceb-example&#39;);
</code></pre><h2 id=light-and-shadow-dom>Light and shadow DOM</h2><p>According to <a href="http://caniuse.com/#search=Shadow%20DOM">caniuse.com</a>, the Shadow DOM isn&#39;t yet implemented by most of the browsers. However, the template builder is able to simulate its behaviors when a custom element needs to wrap its light DOM with others elements.</p><h3 id=handling-a-pseudo-shadow-dom>Handling a pseudo Shadow DOM</h3><p>If the <em>pseudo Shadow</em> flag is not defined, the light DOM of the custom element will be lost. The flag can be an attribute (<code>ceb-content</code>) or like the Shadow DOM specification expect: an element (<code>content</code>).</p><p>If an attribute (<code>ceb-content</code>) is found, the light DOM nodes of the custom element will be moved inside the attribute element.</p><p>If the element (<code>content</code>) is found, it will be replaced by a <code>ceb-lightdom</code> element, and the light DOM nodes will be moved inside this one.</p><h3 id=getting-the-light-dom-node>Getting the light DOM node</h3><p>Custom element augmented with <code>template()</code> get a property <code>lightDom</code> which returns the light DOM element. If the template doesn&#39;t have the the <em>pseudo Shadow</em> flag, the <code>lightDom</code> will return the custom element itself.</p><p>Furthermore, the templating process is able to handle embedded light DOM. In this case, the <code>lightDom</code> value of the root node, will be the <code>lightDom</code> of the last child having a <em>pseudo Shadow</em> flag.</p><h3 id=example>Example</h3><p>So, given the following custom element:</p><pre><code class=lang-javascript>import {ceb, template, attribute, delegate} from &#39;custom-element-builder&#39;;
ceb()
    .augment(
        delegate(attribute(&#39;icon&#39;)).to(&#39;i&#39;).setter((el, name) =&gt; `fa fa-${name}`).attribute(&#39;class&#39;),
        template(`
            &lt;button&gt;
                &lt;i class=&quot;fa fa-check&quot;&gt;&lt;/i&gt;
                &lt;content&gt;&lt;/content&gt;
            &lt;/button&gt;
        `)
    )
    .register(&#39;ceb-example&#39;);
</code></pre><p>Which can be used like below:</p><pre><code class=lang-html>&lt;ceb-example icon=&quot;check&quot;&gt;&lt;strong&gt;OK&lt;/strong&gt;&lt;/ceb-example&gt;
</code></pre><p>The rendered DOM of <code>ceb-example</code> will be closed to the following fragment:</p><pre><code class=lang-html>&lt;ceb-example icon=&quot;check&quot;&gt;
    &lt;i class=&quot;fa fa-check&quot;&gt;&lt;/i&gt;
    &lt;span&gt;&lt;strong&gt;OK&lt;/strong&gt;&lt;/span&gt;
&lt;/ceb-example&gt;
</code></pre></div><footer class=text-center><br><code>&lt;ceb/&gt;</code> is freely distributable under the terms of the MIT license.</footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-20179310-5', 'auto');
    ga('send', 'pageview');</script></body></html>